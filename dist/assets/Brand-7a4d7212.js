import{u as f,r as m}from"./index-35f6dc1b.js";import{_ as p,f as x,o as _,c as h,a as t,g as d,h as c,w as v,v as g,n as b,i as u}from"./index-cdfdb603.js";import{_ as w}from"./no-image-84bac12a.js";const k={setup(){return{v$:f()}},data(){return{name:null}},methods:{onSelectFile(){const e=this.$refs.file.files;if(e&&e[0]){const s=new FileReader;s.onload=n=>{var a=document.querySelector("#photo");a.src=s.result},s.readAsDataURL(e[0]),this.file=e[0]}},async save(){if(await this.v$.$validate())try{let e=new FormData;e.append("name",this.name),e.append("image",this.file,this.file.name),await this.axios.post(this.$api_url+"brand/save",e,{method:"POST",headers:{Token:JSON.parse(localStorage.getItem("user")).token,"Content-Type":"multipart/form-data"}}).then(s=>{s.data.success==!0&&(this.$toast.info("Brand Saved Successfully"),this.resetData())})}catch(e){console.log("kkk"+e)}},resetData(){this.image={src:null,type:null,name:null},this.name="",this.file="";var l=document.querySelector("#photo");l.src="/src/assets/no-image.jpg",this.v$.$reset()}},validations(){return{name:{required:m}}}},y={class:"shadow-2xl w-[100%] min-h-[30%] rounded-3xl"},$=t("h1",{class:"w-full text-left p-5 text-2xl font-bold text-black/50"}," Brand Management ",-1),C={class:"grid grid-cols-2 gap-10"},S={class:"flex flex-col w-full px-5 space-y-5"},B={class:"flex flex-col w-full px-5 space-y-5"},F={class:"flex w-full"},D={class:"upload-example__button"},N={class:"w-2/6 h-100 w-100 justify-center items-center flex"},T={class:"flex items-center justify-end w-full p-10 space-x-10"},V=t("button",{class:"rounded-xl px-10 font-bold text-md bg-red-800/90"}," Cancel ",-1);function j(l,e,s,n,a,r){const i=x("lable");return _(),h("div",y,[$,t("div",C,[t("div",S,[d(i,{class:"text-black/50 font-medium text-xl"},{default:c(()=>[u(" Name ")]),_:1}),v(t("input",{type:"text",class:b(["h-15 w-full rounded-xl focus:border-stone-500 focus:ring-0 focus:inline-block text-xl text-black/50",n.v$.name.$error?"dark:border-red-500":""]),placeholder:"Enter name","onUpdate:modelValue":e[0]||(e[0]=o=>a.name=o)},null,2),[[g,a.name]])]),t("div",B,[d(i,{class:"text-black/50 font-medium text-xl"},{default:c(()=>[u(" Logo")]),_:1}),t("div",F,[t("div",D,[t("input",{ref:"file",type:"file",accept:"image/*",onChange:e[1]||(e[1]=o=>r.onSelectFile())},null,544)]),t("div",N,[t("img",{id:"photo",ref:"fileInput",src:w,class:"object-fit h-300 w-300 rounded-3xl",onClick:e[2]||(e[2]=o=>l.$refs.file.click())},null,512)])])])]),t("div",T,[t("button",{class:"rounded-xl px-10 font-bold text-md bg-gray-800/70",onClick:e[3]||(e[3]=o=>r.save())}," Save "),V])])}const L=p(k,[["render",j]]);export{L as default};
