import{f as p,M as u}from"./bootstrap.css_vue_type_style_index_0_src_9d2c03db_scoped_9d2c03db_lang-ac967922.js";import{_ as m,f,o as i,c as d,a as s,g,t as _,d as b}from"./index-cdfdb603.js";function h(a,e=null){const r=new Uint8Array(a).subarray(0,4);let o="";for(let t=0;t<r.length;t++)o+=r[t].toString(16);switch(console.log(o),o){case"89504e47":return"image/png";case"47494638":return"image/gif";case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":return"image/jpeg";case"52494646":return"image/webp";default:return e}}const y={name:"randomName",props:{},components:{Cropper:p},data(){return{uniqueModal:null,image:{src:null,type:null}}},mounted(){this.uniqueModal=new u(document.getElementById("uniqueId"))},methods:{crop(){const{canvas:a}=this.$refs.cropper.getResult();a.toBlob(e=>{this.$emit("displayImage",e)},this.image.type),this.uniqueModal.hide()},loadImage(a){const{files:e}=a.target;if(e&&e[0]){this.image.src&&URL.revokeObjectURL(this.image.src);const r=URL.createObjectURL(e[0]),o=new FileReader;o.onload=t=>{this.image={src:r,type:h(t.target.result,e[0].type),name:e[0].name}},o.readAsArrayBuffer(e[0])}},showUniqueModal(a){this.uniqueModal.show(),this.$nextTick(()=>{this.loadImage(a)})},closeUniqueModal(){this.uniqueModal.hide()}}},v={class:"modal fade",id:"uniqueId",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false",role:"dialog","aria-labelledby":"uniqueIdlLabel","aria-hidden":"true"},M={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},q={class:"modal-content"},k={class:"modal-body"},w={class:"upload-example__cropper-wrapper"},x={key:0,class:"upload-example__file-type"},I={class:"modal-footer"};function U(a,e,r,o,t,n){const l=f("cropper");return i(),d("div",v,[s("div",M,[s("div",q,[s("div",k,[s("div",w,[g(l,{ref:"cropper",class:"upload-example__cropper","check-orientation":"",src:t.image.src,"aspect-ratio":"1"},null,8,["src"]),t.image.type?(i(),d("div",x,_(t.image.type),1)):b("",!0)])]),s("div",I,[s("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=c=>n.closeUniqueModal())}," Close "),s("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=c=>n.crop())},"crop")])])])])}const R=m(y,[["render",U],["__scopeId","data-v-9d2c03db"]]);export{R as M};
