import{o as D,k as M,l as Ht,f as ft,g as H,h as At,F as An,r as yn,w as gs,m as vs,p as _s,q as Ue,s as jo,d as Tn}from"./index-cdfdb603.js";var V="top",F="bottom",U="right",j="left",Qe="auto",ae=[V,F,U,j],Pt="start",Qt="end",bs="clippingParents",Yi="viewport",Kt="popper",Es="reference",Ni=ae.reduce(function(e,t){return e.concat([t+"-"+Pt,t+"-"+Qt])},[]),Fi=[].concat(ae,[Qe]).reduce(function(e,t){return e.concat([t,t+"-"+Pt,t+"-"+Qt])},[]),ws="beforeRead",As="read",ys="afterRead",Ts="beforeMain",Ss="main",Cs="afterMain",Os="beforeWrite",Rs="write",Ds="afterWrite",Ms=[ws,As,ys,Ts,Ss,Cs,Os,Rs,Ds];function ct(e){return e?(e.nodeName||"").toLowerCase():null}function K(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function kt(e){var t=K(e).Element;return e instanceof t||e instanceof Element}function q(e){var t=K(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ui(e){if(typeof ShadowRoot>"u")return!1;var t=K(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Bo(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},o=t.attributes[i]||{},s=t.elements[i];!q(s)||!ct(s)||(Object.assign(s.style,n),Object.keys(o).forEach(function(r){var c=o[r];c===!1?s.removeAttribute(r):s.setAttribute(r,c===!0?"":c)}))})}function Yo(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var o=t.elements[n],s=t.attributes[n]||{},r=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]),c=r.reduce(function(a,l){return a[l]="",a},{});!q(o)||!ct(o)||(Object.assign(o.style,c),Object.keys(s).forEach(function(a){o.removeAttribute(a)}))})}}const Ki={name:"applyStyles",enabled:!0,phase:"write",fn:Bo,effect:Yo,requires:["computeStyles"]};function rt(e){return e.split("-")[0]}var zt=Math.max,Ke=Math.min,Zt=Math.round;function Li(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ns(){return!/^((?!chrome|android).)*safari/i.test(Li())}function Jt(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var n=e.getBoundingClientRect(),o=1,s=1;t&&q(e)&&(o=e.offsetWidth>0&&Zt(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Zt(n.height)/e.offsetHeight||1);var r=kt(e)?K(e):window,c=r.visualViewport,a=!Ns()&&i,l=(n.left+(a&&c?c.offsetLeft:0))/o,h=(n.top+(a&&c?c.offsetTop:0))/s,u=n.width/o,d=n.height/s;return{width:u,height:d,top:h,right:l+u,bottom:h+d,left:l,x:l,y:h}}function Xi(e){var t=Jt(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function Ls(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Ui(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function vt(e){return K(e).getComputedStyle(e)}function Fo(e){return["table","td","th"].indexOf(ct(e))>=0}function Ct(e){return((kt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ze(e){return ct(e)==="html"?e:e.assignedSlot||e.parentNode||(Ui(e)?e.host:null)||Ct(e)}function Sn(e){return!q(e)||vt(e).position==="fixed"?null:e.offsetParent}function Uo(e){var t=/firefox/i.test(Li()),i=/Trident/i.test(Li());if(i&&q(e)){var n=vt(e);if(n.position==="fixed")return null}var o=Ze(e);for(Ui(o)&&(o=o.host);q(o)&&["html","body"].indexOf(ct(o))<0;){var s=vt(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function Ee(e){for(var t=K(e),i=Sn(e);i&&Fo(i)&&vt(i).position==="static";)i=Sn(i);return i&&(ct(i)==="html"||ct(i)==="body"&&vt(i).position==="static")?t:i||Uo(e)||t}function qi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function me(e,t,i){return zt(e,Ke(t,i))}function Ko(e,t,i){var n=me(e,t,i);return n>i?i:n}function xs(){return{top:0,right:0,bottom:0,left:0}}function $s(e){return Object.assign({},xs(),e)}function Is(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}var Xo=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,$s(typeof t!="number"?t:Is(t,ae))};function qo(e){var t,i=e.state,n=e.name,o=e.options,s=i.elements.arrow,r=i.modifiersData.popperOffsets,c=rt(i.placement),a=qi(c),l=[j,U].indexOf(c)>=0,h=l?"height":"width";if(!(!s||!r)){var u=Xo(o.padding,i),d=Xi(s),f=a==="y"?V:j,g=a==="y"?F:U,m=i.rects.reference[h]+i.rects.reference[a]-r[a]-i.rects.popper[h],_=r[a]-i.rects.reference[a],w=Ee(s),C=w?a==="y"?w.clientHeight||0:w.clientWidth||0:0,O=m/2-_/2,b=u[f],T=C-d[h]-u[g],S=C/2-d[h]/2+O,R=me(b,S,T),I=a;i.modifiersData[n]=(t={},t[I]=R,t.centerOffset=R-S,t)}}function Go(e){var t=e.state,i=e.options,n=i.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Ls(t.elements.popper,o)&&(t.elements.arrow=o))}const zs={name:"arrow",enabled:!0,phase:"main",fn:qo,effect:Go,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(e){return e.split("-")[1]}var Qo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zo(e,t){var i=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:Zt(i*o)/o||0,y:Zt(n*o)/o||0}}function Cn(e){var t,i=e.popper,n=e.popperRect,o=e.placement,s=e.variation,r=e.offsets,c=e.position,a=e.gpuAcceleration,l=e.adaptive,h=e.roundOffsets,u=e.isFixed,d=r.x,f=d===void 0?0:d,g=r.y,m=g===void 0?0:g,_=typeof h=="function"?h({x:f,y:m}):{x:f,y:m};f=_.x,m=_.y;var w=r.hasOwnProperty("x"),C=r.hasOwnProperty("y"),O=j,b=V,T=window;if(l){var S=Ee(i),R="clientHeight",I="clientWidth";if(S===K(i)&&(S=Ct(i),vt(S).position!=="static"&&c==="absolute"&&(R="scrollHeight",I="scrollWidth")),S=S,o===V||(o===j||o===U)&&s===Qt){b=F;var x=u&&S===T&&T.visualViewport?T.visualViewport.height:S[R];m-=x-n.height,m*=a?1:-1}if(o===j||(o===V||o===F)&&s===Qt){O=U;var N=u&&S===T&&T.visualViewport?T.visualViewport.width:S[I];f-=N-n.width,f*=a?1:-1}}var k=Object.assign({position:c},l&&Qo),J=h===!0?Zo({x:f,y:m},K(i)):{x:f,y:m};if(f=J.x,m=J.y,a){var W;return Object.assign({},k,(W={},W[b]=C?"0":"",W[O]=w?"0":"",W.transform=(T.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",W))}return Object.assign({},k,(t={},t[b]=C?m+"px":"",t[O]=w?f+"px":"",t.transform="",t))}function Jo(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=n===void 0?!0:n,s=i.adaptive,r=s===void 0?!0:s,c=i.roundOffsets,a=c===void 0?!0:c,l={placement:rt(t.placement),variation:te(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Cn(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Cn(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Gi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jo,data:{}};var Me={passive:!0};function tr(e){var t=e.state,i=e.instance,n=e.options,o=n.scroll,s=o===void 0?!0:o,r=n.resize,c=r===void 0?!0:r,a=K(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach(function(h){h.addEventListener("scroll",i.update,Me)}),c&&a.addEventListener("resize",i.update,Me),function(){s&&l.forEach(function(h){h.removeEventListener("scroll",i.update,Me)}),c&&a.removeEventListener("resize",i.update,Me)}}const Qi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tr,data:{}};var er={left:"right",right:"left",bottom:"top",top:"bottom"};function je(e){return e.replace(/left|right|bottom|top/g,function(t){return er[t]})}var ir={start:"end",end:"start"};function On(e){return e.replace(/start|end/g,function(t){return ir[t]})}function Zi(e){var t=K(e),i=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:i,scrollTop:n}}function Ji(e){return Jt(Ct(e)).left+Zi(e).scrollLeft}function nr(e,t){var i=K(e),n=Ct(e),o=i.visualViewport,s=n.clientWidth,r=n.clientHeight,c=0,a=0;if(o){s=o.width,r=o.height;var l=Ns();(l||!l&&t==="fixed")&&(c=o.offsetLeft,a=o.offsetTop)}return{width:s,height:r,x:c+Ji(e),y:a}}function sr(e){var t,i=Ct(e),n=Zi(e),o=(t=e.ownerDocument)==null?void 0:t.body,s=zt(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=zt(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-n.scrollLeft+Ji(e),a=-n.scrollTop;return vt(o||i).direction==="rtl"&&(c+=zt(i.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:c,y:a}}function tn(e){var t=vt(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function Ps(e){return["html","body","#document"].indexOf(ct(e))>=0?e.ownerDocument.body:q(e)&&tn(e)?e:Ps(Ze(e))}function ge(e,t){var i;t===void 0&&(t=[]);var n=Ps(e),o=n===((i=e.ownerDocument)==null?void 0:i.body),s=K(n),r=o?[s].concat(s.visualViewport||[],tn(n)?n:[]):n,c=t.concat(r);return o?c:c.concat(ge(Ze(r)))}function xi(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function or(e,t){var i=Jt(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function Rn(e,t,i){return t===Yi?xi(nr(e,i)):kt(t)?or(t,i):xi(sr(Ct(e)))}function rr(e){var t=ge(Ze(e)),i=["absolute","fixed"].indexOf(vt(e).position)>=0,n=i&&q(e)?Ee(e):e;return kt(n)?t.filter(function(o){return kt(o)&&Ls(o,n)&&ct(o)!=="body"}):[]}function ar(e,t,i,n){var o=t==="clippingParents"?rr(e):[].concat(t),s=[].concat(o,[i]),r=s[0],c=s.reduce(function(a,l){var h=Rn(e,l,n);return a.top=zt(h.top,a.top),a.right=Ke(h.right,a.right),a.bottom=Ke(h.bottom,a.bottom),a.left=zt(h.left,a.left),a},Rn(e,r,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function ks(e){var t=e.reference,i=e.element,n=e.placement,o=n?rt(n):null,s=n?te(n):null,r=t.x+t.width/2-i.width/2,c=t.y+t.height/2-i.height/2,a;switch(o){case V:a={x:r,y:t.y-i.height};break;case F:a={x:r,y:t.y+t.height};break;case U:a={x:t.x+t.width,y:c};break;case j:a={x:t.x-i.width,y:c};break;default:a={x:t.x,y:t.y}}var l=o?qi(o):null;if(l!=null){var h=l==="y"?"height":"width";switch(s){case Pt:a[l]=a[l]-(t[h]/2-i[h]/2);break;case Qt:a[l]=a[l]+(t[h]/2-i[h]/2);break}}return a}function ee(e,t){t===void 0&&(t={});var i=t,n=i.placement,o=n===void 0?e.placement:n,s=i.strategy,r=s===void 0?e.strategy:s,c=i.boundary,a=c===void 0?bs:c,l=i.rootBoundary,h=l===void 0?Yi:l,u=i.elementContext,d=u===void 0?Kt:u,f=i.altBoundary,g=f===void 0?!1:f,m=i.padding,_=m===void 0?0:m,w=$s(typeof _!="number"?_:Is(_,ae)),C=d===Kt?Es:Kt,O=e.rects.popper,b=e.elements[g?C:d],T=ar(kt(b)?b:b.contextElement||Ct(e.elements.popper),a,h,r),S=Jt(e.elements.reference),R=ks({reference:S,element:O,strategy:"absolute",placement:o}),I=xi(Object.assign({},O,R)),x=d===Kt?I:S,N={top:T.top-x.top+w.top,bottom:x.bottom-T.bottom+w.bottom,left:T.left-x.left+w.left,right:x.right-T.right+w.right},k=e.modifiersData.offset;if(d===Kt&&k){var J=k[o];Object.keys(N).forEach(function(W){var Dt=[U,F].indexOf(W)>=0?1:-1,Mt=[V,F].indexOf(W)>=0?"y":"x";N[W]+=J[Mt]*Dt})}return N}function cr(e,t){t===void 0&&(t={});var i=t,n=i.placement,o=i.boundary,s=i.rootBoundary,r=i.padding,c=i.flipVariations,a=i.allowedAutoPlacements,l=a===void 0?Fi:a,h=te(n),u=h?c?Ni:Ni.filter(function(g){return te(g)===h}):ae,d=u.filter(function(g){return l.indexOf(g)>=0});d.length===0&&(d=u);var f=d.reduce(function(g,m){return g[m]=ee(e,{placement:m,boundary:o,rootBoundary:s,padding:r})[rt(m)],g},{});return Object.keys(f).sort(function(g,m){return f[g]-f[m]})}function hr(e){if(rt(e)===Qe)return[];var t=je(e);return[On(e),t,On(t)]}function lr(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,s=o===void 0?!0:o,r=i.altAxis,c=r===void 0?!0:r,a=i.fallbackPlacements,l=i.padding,h=i.boundary,u=i.rootBoundary,d=i.altBoundary,f=i.flipVariations,g=f===void 0?!0:f,m=i.allowedAutoPlacements,_=t.options.placement,w=rt(_),C=w===_,O=a||(C||!g?[je(_)]:hr(_)),b=[_].concat(O).reduce(function(Bt,bt){return Bt.concat(rt(bt)===Qe?cr(t,{placement:bt,boundary:h,rootBoundary:u,padding:l,flipVariations:g,allowedAutoPlacements:m}):bt)},[]),T=t.rects.reference,S=t.rects.popper,R=new Map,I=!0,x=b[0],N=0;N<b.length;N++){var k=b[N],J=rt(k),W=te(k)===Pt,Dt=[V,F].indexOf(J)>=0,Mt=Dt?"width":"height",Y=ee(t,{placement:k,boundary:h,rootBoundary:u,altBoundary:d,padding:l}),tt=Dt?W?U:j:W?F:V;T[Mt]>S[Mt]&&(tt=je(tt));var Se=je(tt),Nt=[];if(s&&Nt.push(Y[J]<=0),c&&Nt.push(Y[tt]<=0,Y[Se]<=0),Nt.every(function(Bt){return Bt})){x=k,I=!1;break}R.set(k,Nt)}if(I)for(var Ce=g?3:1,ci=function(bt){var de=b.find(function(Re){var Lt=R.get(Re);if(Lt)return Lt.slice(0,bt).every(function(hi){return hi})});if(de)return x=de,"break"},ue=Ce;ue>0;ue--){var Oe=ci(ue);if(Oe==="break")break}t.placement!==x&&(t.modifiersData[n]._skip=!0,t.placement=x,t.reset=!0)}}const Ws={name:"flip",enabled:!0,phase:"main",fn:lr,requiresIfExists:["offset"],data:{_skip:!1}};function Dn(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Mn(e){return[V,U,F,j].some(function(t){return e[t]>=0})}function ur(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,r=ee(t,{elementContext:"reference"}),c=ee(t,{altBoundary:!0}),a=Dn(r,n),l=Dn(c,o,s),h=Mn(a),u=Mn(l);t.modifiersData[i]={referenceClippingOffsets:a,popperEscapeOffsets:l,isReferenceHidden:h,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}const Hs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ur};function dr(e,t,i){var n=rt(e),o=[j,V].indexOf(n)>=0?-1:1,s=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,r=s[0],c=s[1];return r=r||0,c=(c||0)*o,[j,U].indexOf(n)>=0?{x:c,y:r}:{x:r,y:c}}function fr(e){var t=e.state,i=e.options,n=e.name,o=i.offset,s=o===void 0?[0,0]:o,r=Fi.reduce(function(h,u){return h[u]=dr(u,t.rects,s),h},{}),c=r[t.placement],a=c.x,l=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=r}const Vs={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fr};function pr(e){var t=e.state,i=e.name;t.modifiersData[i]=ks({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const en={name:"popperOffsets",enabled:!0,phase:"read",fn:pr,data:{}};function mr(e){return e==="x"?"y":"x"}function gr(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,s=o===void 0?!0:o,r=i.altAxis,c=r===void 0?!1:r,a=i.boundary,l=i.rootBoundary,h=i.altBoundary,u=i.padding,d=i.tether,f=d===void 0?!0:d,g=i.tetherOffset,m=g===void 0?0:g,_=ee(t,{boundary:a,rootBoundary:l,padding:u,altBoundary:h}),w=rt(t.placement),C=te(t.placement),O=!C,b=qi(w),T=mr(b),S=t.modifiersData.popperOffsets,R=t.rects.reference,I=t.rects.popper,x=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,N=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,J={x:0,y:0};if(S){if(s){var W,Dt=b==="y"?V:j,Mt=b==="y"?F:U,Y=b==="y"?"height":"width",tt=S[b],Se=tt+_[Dt],Nt=tt-_[Mt],Ce=f?-I[Y]/2:0,ci=C===Pt?R[Y]:I[Y],ue=C===Pt?-I[Y]:-R[Y],Oe=t.elements.arrow,Bt=f&&Oe?Xi(Oe):{width:0,height:0},bt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:xs(),de=bt[Dt],Re=bt[Mt],Lt=me(0,R[Y],Bt[Y]),hi=O?R[Y]/2-Ce-Lt-de-N.mainAxis:ci-Lt-de-N.mainAxis,zo=O?-R[Y]/2+Ce+Lt+Re+N.mainAxis:ue+Lt+Re+N.mainAxis,li=t.elements.arrow&&Ee(t.elements.arrow),Po=li?b==="y"?li.clientTop||0:li.clientLeft||0:0,fn=(W=k==null?void 0:k[b])!=null?W:0,ko=tt+hi-fn-Po,Wo=tt+zo-fn,pn=me(f?Ke(Se,ko):Se,tt,f?zt(Nt,Wo):Nt);S[b]=pn,J[b]=pn-tt}if(c){var mn,Ho=b==="x"?V:j,Vo=b==="x"?F:U,xt=S[T],De=T==="y"?"height":"width",gn=xt+_[Ho],vn=xt-_[Vo],ui=[V,j].indexOf(w)!==-1,_n=(mn=k==null?void 0:k[T])!=null?mn:0,bn=ui?gn:xt-R[De]-I[De]-_n+N.altAxis,En=ui?xt+R[De]+I[De]-_n-N.altAxis:vn,wn=f&&ui?Ko(bn,xt,En):me(f?bn:gn,xt,f?En:vn);S[T]=wn,J[T]=wn-xt}t.modifiersData[n]=J}}const js={name:"preventOverflow",enabled:!0,phase:"main",fn:gr,requiresIfExists:["offset"]};function vr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _r(e){return e===K(e)||!q(e)?Zi(e):vr(e)}function br(e){var t=e.getBoundingClientRect(),i=Zt(t.width)/e.offsetWidth||1,n=Zt(t.height)/e.offsetHeight||1;return i!==1||n!==1}function Er(e,t,i){i===void 0&&(i=!1);var n=q(t),o=q(t)&&br(t),s=Ct(t),r=Jt(e,o,i),c={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!i)&&((ct(t)!=="body"||tn(s))&&(c=_r(t)),q(t)?(a=Jt(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):s&&(a.x=Ji(s))),{x:r.left+c.scrollLeft-a.x,y:r.top+c.scrollTop-a.y,width:r.width,height:r.height}}function wr(e){var t=new Map,i=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function o(s){i.add(s.name);var r=[].concat(s.requires||[],s.requiresIfExists||[]);r.forEach(function(c){if(!i.has(c)){var a=t.get(c);a&&o(a)}}),n.push(s)}return e.forEach(function(s){i.has(s.name)||o(s)}),n}function Ar(e){var t=wr(e);return Ms.reduce(function(i,n){return i.concat(t.filter(function(o){return o.phase===n}))},[])}function yr(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function Tr(e){var t=e.reduce(function(i,n){var o=i[n.name];return i[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}var Nn={placement:"bottom",modifiers:[],strategy:"absolute"};function Ln(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Je(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,n=i===void 0?[]:i,o=t.defaultOptions,s=o===void 0?Nn:o;return function(c,a,l){l===void 0&&(l=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nn,s),modifiersData:{},elements:{reference:c,popper:a},attributes:{},styles:{}},u=[],d=!1,f={state:h,setOptions:function(w){var C=typeof w=="function"?w(h.options):w;m(),h.options=Object.assign({},s,h.options,C),h.scrollParents={reference:kt(c)?ge(c):c.contextElement?ge(c.contextElement):[],popper:ge(a)};var O=Ar(Tr([].concat(n,h.options.modifiers)));return h.orderedModifiers=O.filter(function(b){return b.enabled}),g(),f.update()},forceUpdate:function(){if(!d){var w=h.elements,C=w.reference,O=w.popper;if(Ln(C,O)){h.rects={reference:Er(C,Ee(O),h.options.strategy==="fixed"),popper:Xi(O)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(N){return h.modifiersData[N.name]=Object.assign({},N.data)});for(var b=0;b<h.orderedModifiers.length;b++){if(h.reset===!0){h.reset=!1,b=-1;continue}var T=h.orderedModifiers[b],S=T.fn,R=T.options,I=R===void 0?{}:R,x=T.name;typeof S=="function"&&(h=S({state:h,options:I,name:x,instance:f})||h)}}}},update:yr(function(){return new Promise(function(_){f.forceUpdate(),_(h)})}),destroy:function(){m(),d=!0}};if(!Ln(c,a))return f;f.setOptions(l).then(function(_){!d&&l.onFirstUpdate&&l.onFirstUpdate(_)});function g(){h.orderedModifiers.forEach(function(_){var w=_.name,C=_.options,O=C===void 0?{}:C,b=_.effect;if(typeof b=="function"){var T=b({state:h,name:w,instance:f,options:O}),S=function(){};u.push(T||S)}})}function m(){u.forEach(function(_){return _()}),u=[]}return f}}var Sr=Je(),Cr=[Qi,en,Gi,Ki],Or=Je({defaultModifiers:Cr}),Rr=[Qi,en,Gi,Ki,Vs,Ws,js,zs,Hs],nn=Je({defaultModifiers:Rr});const Bs=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Cs,afterRead:ys,afterWrite:Ds,applyStyles:Ki,arrow:zs,auto:Qe,basePlacements:ae,beforeMain:Ts,beforeRead:ws,beforeWrite:Os,bottom:F,clippingParents:bs,computeStyles:Gi,createPopper:nn,createPopperBase:Sr,createPopperLite:Or,detectOverflow:ee,end:Qt,eventListeners:Qi,flip:Ws,hide:Hs,left:j,main:Ss,modifierPhases:Ms,offset:Vs,placements:Fi,popper:Kt,popperGenerator:Je,popperOffsets:en,preventOverflow:js,read:As,reference:Es,right:U,start:Pt,top:V,variationPlacements:Ni,viewport:Yi,write:Rs},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Dr=1e6,Mr=1e3,$i="transitionend",Nr=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Lr=e=>{do e+=Math.floor(Math.random()*Dr);while(document.getElementById(e));return e},Ys=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&i!=="#"?i.trim():null}return t},Fs=e=>{const t=Ys(e);return t&&document.querySelector(t)?t:null},pt=e=>{const t=Ys(e);return t?document.querySelector(t):null},xr=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const n=Number.parseFloat(t),o=Number.parseFloat(i);return!n&&!o?0:(t=t.split(",")[0],i=i.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(i))*Mr)},Us=e=>{e.dispatchEvent(new Event($i))},mt=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),yt=e=>mt(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(e):null,ce=e=>{if(!mt(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const n=e.closest("summary");if(n&&n.parentNode!==i||n===null)return!1}return t},Tt=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",Ks=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Ks(e.parentNode):null},Xe=()=>{},we=e=>{e.offsetHeight},Xs=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,di=[],$r=e=>{document.readyState==="loading"?(di.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of di)t()}),di.push(e)):e()},Q=()=>document.documentElement.dir==="rtl",Z=e=>{$r(()=>{const t=Xs();if(t){const i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}})},ut=e=>{typeof e=="function"&&e()},qs=(e,t,i=!0)=>{if(!i){ut(e);return}const n=5,o=xr(t)+n;let s=!1;const r=({target:c})=>{c===t&&(s=!0,t.removeEventListener($i,r),ut(e))};t.addEventListener($i,r),setTimeout(()=>{s||Us(t)},o)},sn=(e,t,i,n)=>{const o=e.length;let s=e.indexOf(t);return s===-1?!i&&n?e[o-1]:e[0]:(s+=i?1:-1,n&&(s=(s+o)%o),e[Math.max(0,Math.min(s,o-1))])},Ir=/[^.]*(?=\..*)\.|.*/,zr=/\..*/,Pr=/::\d+$/,fi={};let xn=1;const Gs={mouseenter:"mouseover",mouseleave:"mouseout"},kr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Qs(e,t){return t&&`${t}::${xn++}`||e.uidEvent||xn++}function Zs(e){const t=Qs(e);return e.uidEvent=t,fi[t]=fi[t]||{},fi[t]}function Wr(e,t){return function i(n){return on(n,{delegateTarget:e}),i.oneOff&&p.off(e,n.type,t),t.apply(e,[n])}}function Hr(e,t,i){return function n(o){const s=e.querySelectorAll(t);for(let{target:r}=o;r&&r!==this;r=r.parentNode)for(const c of s)if(c===r)return on(o,{delegateTarget:r}),n.oneOff&&p.off(e,o.type,t,i),i.apply(r,[o])}}function Js(e,t,i=null){return Object.values(e).find(n=>n.callable===t&&n.delegationSelector===i)}function to(e,t,i){const n=typeof t=="string",o=n?i:t||i;let s=eo(e);return kr.has(s)||(s=e),[n,o,s]}function $n(e,t,i,n,o){if(typeof t!="string"||!e)return;let[s,r,c]=to(t,i,n);t in Gs&&(r=(g=>function(m){if(!m.relatedTarget||m.relatedTarget!==m.delegateTarget&&!m.delegateTarget.contains(m.relatedTarget))return g.call(this,m)})(r));const a=Zs(e),l=a[c]||(a[c]={}),h=Js(l,r,s?i:null);if(h){h.oneOff=h.oneOff&&o;return}const u=Qs(r,t.replace(Ir,"")),d=s?Hr(e,i,r):Wr(e,r);d.delegationSelector=s?i:null,d.callable=r,d.oneOff=o,d.uidEvent=u,l[u]=d,e.addEventListener(c,d,s)}function Ii(e,t,i,n,o){const s=Js(t[i],n,o);s&&(e.removeEventListener(i,s,!!o),delete t[i][s.uidEvent])}function Vr(e,t,i,n){const o=t[i]||{};for(const s of Object.keys(o))if(s.includes(n)){const r=o[s];Ii(e,t,i,r.callable,r.delegationSelector)}}function eo(e){return e=e.replace(zr,""),Gs[e]||e}const p={on(e,t,i,n){$n(e,t,i,n,!1)},one(e,t,i,n){$n(e,t,i,n,!0)},off(e,t,i,n){if(typeof t!="string"||!e)return;const[o,s,r]=to(t,i,n),c=r!==t,a=Zs(e),l=a[r]||{},h=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(l).length)return;Ii(e,a,r,s,o?i:null);return}if(h)for(const u of Object.keys(a))Vr(e,a,u,t.slice(1));for(const u of Object.keys(l)){const d=u.replace(Pr,"");if(!c||t.includes(d)){const f=l[u];Ii(e,a,r,f.callable,f.delegationSelector)}}},trigger(e,t,i){if(typeof t!="string"||!e)return null;const n=Xs(),o=eo(t),s=t!==o;let r=null,c=!0,a=!0,l=!1;s&&n&&(r=n.Event(t,i),n(e).trigger(r),c=!r.isPropagationStopped(),a=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented());let h=new Event(t,{bubbles:c,cancelable:!0});return h=on(h,i),l&&h.preventDefault(),a&&e.dispatchEvent(h),h.defaultPrevented&&r&&r.preventDefault(),h}};function on(e,t){for(const[i,n]of Object.entries(t||{}))try{e[i]=n}catch{Object.defineProperty(e,i,{configurable:!0,get(){return n}})}return e}const Et=new Map,pi={set(e,t,i){Et.has(e)||Et.set(e,new Map);const n=Et.get(e);if(!n.has(t)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(t,i)},get(e,t){return Et.has(e)&&Et.get(e).get(t)||null},remove(e,t){if(!Et.has(e))return;const i=Et.get(e);i.delete(t),i.size===0&&Et.delete(e)}};function In(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function mi(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const gt={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${mi(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${mi(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of i){let o=n.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),t[o]=In(e.dataset[n])}return t},getDataAttribute(e,t){return In(e.getAttribute(`data-bs-${mi(t)}`))}};class Ae{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,i){const n=mt(i)?gt.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...mt(i)?gt.getDataAttributes(i):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,i=this.constructor.DefaultType){for(const n of Object.keys(i)){const o=i[n],s=t[n],r=mt(s)?"element":Nr(s);if(!new RegExp(o).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${o}".`)}}}const jr="5.2.3";class et extends Ae{constructor(t,i){super(),t=yt(t),t&&(this._element=t,this._config=this._getConfig(i),pi.set(this._element,this.constructor.DATA_KEY,this))}dispose(){pi.remove(this._element,this.constructor.DATA_KEY),p.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,i,n=!0){qs(t,i,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return pi.get(yt(t),this.DATA_KEY)}static getOrCreateInstance(t,i={}){return this.getInstance(t)||new this(t,typeof i=="object"?i:null)}static get VERSION(){return jr}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const ti=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;p.on(document,i,`[data-bs-dismiss="${n}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Tt(this))return;const s=pt(this)||this.closest(`.${n}`);e.getOrCreateInstance(s)[t]()})},Br="alert",Yr="bs.alert",io=`.${Yr}`,Fr=`close${io}`,Ur=`closed${io}`,Kr="fade",Xr="show";class ei extends et{static get NAME(){return Br}close(){if(p.trigger(this._element,Fr).defaultPrevented)return;this._element.classList.remove(Xr);const i=this._element.classList.contains(Kr);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),p.trigger(this._element,Ur),this.dispose()}static jQueryInterface(t){return this.each(function(){const i=ei.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}ti(ei,"close");Z(ei);const qr="button",Gr="bs.button",Qr=`.${Gr}`,Zr=".data-api",Jr="active",zn='[data-bs-toggle="button"]',ta=`click${Qr}${Zr}`;class ii extends et{static get NAME(){return qr}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Jr))}static jQueryInterface(t){return this.each(function(){const i=ii.getOrCreateInstance(this);t==="toggle"&&i[t]()})}}p.on(document,ta,zn,e=>{e.preventDefault();const t=e.target.closest(zn);ii.getOrCreateInstance(t).toggle()});Z(ii);const E={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(i=>i.matches(t))},parents(e,t){const i=[];let n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(i=>!Tt(i)&&ce(i))}},ea="swipe",he=".bs.swipe",ia=`touchstart${he}`,na=`touchmove${he}`,sa=`touchend${he}`,oa=`pointerdown${he}`,ra=`pointerup${he}`,aa="touch",ca="pen",ha="pointer-event",la=40,ua={endCallback:null,leftCallback:null,rightCallback:null},da={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class qe extends Ae{constructor(t,i){super(),this._element=t,!(!t||!qe.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ua}static get DefaultType(){return da}static get NAME(){return ea}dispose(){p.off(this._element,he)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ut(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=la)return;const i=t/this._deltaX;this._deltaX=0,i&&ut(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(p.on(this._element,oa,t=>this._start(t)),p.on(this._element,ra,t=>this._end(t)),this._element.classList.add(ha)):(p.on(this._element,ia,t=>this._start(t)),p.on(this._element,na,t=>this._move(t)),p.on(this._element,sa,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===ca||t.pointerType===aa)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const fa="carousel",pa="bs.carousel",Ot=`.${pa}`,no=".data-api",ma="ArrowLeft",ga="ArrowRight",va=500,fe="next",Yt="prev",Xt="left",Be="right",_a=`slide${Ot}`,gi=`slid${Ot}`,ba=`keydown${Ot}`,Ea=`mouseenter${Ot}`,wa=`mouseleave${Ot}`,Aa=`dragstart${Ot}`,ya=`load${Ot}${no}`,Ta=`click${Ot}${no}`,so="carousel",Ne="active",Sa="slide",Ca="carousel-item-end",Oa="carousel-item-start",Ra="carousel-item-next",Da="carousel-item-prev",oo=".active",ro=".carousel-item",Ma=oo+ro,Na=".carousel-item img",La=".carousel-indicators",xa="[data-bs-slide], [data-bs-slide-to]",$a='[data-bs-ride="carousel"]',Ia={[ma]:Be,[ga]:Xt},za={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Pa={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ye extends et{constructor(t,i){super(t,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=E.findOne(La,this._element),this._addEventListeners(),this._config.ride===so&&this.cycle()}static get Default(){return za}static get DefaultType(){return Pa}static get NAME(){return fa}next(){this._slide(fe)}nextWhenVisible(){!document.hidden&&ce(this._element)&&this.next()}prev(){this._slide(Yt)}pause(){this._isSliding&&Us(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){p.one(this._element,gi,()=>this.cycle());return}this.cycle()}}to(t){const i=this._getItems();if(t>i.length-1||t<0)return;if(this._isSliding){p.one(this._element,gi,()=>this.to(t));return}const n=this._getItemIndex(this._getActive());if(n===t)return;const o=t>n?fe:Yt;this._slide(o,i[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&p.on(this._element,ba,t=>this._keydown(t)),this._config.pause==="hover"&&(p.on(this._element,Ea,()=>this.pause()),p.on(this._element,wa,()=>this._maybeEnableCycle())),this._config.touch&&qe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of E.find(Na,this._element))p.on(n,Aa,o=>o.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Xt)),rightCallback:()=>this._slide(this._directionToOrder(Be)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),va+this._config.interval))}};this._swipeHelper=new qe(this._element,i)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const i=Ia[t.key];i&&(t.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const i=E.findOne(oo,this._indicatorsElement);i.classList.remove(Ne),i.removeAttribute("aria-current");const n=E.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(Ne),n.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const i=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(t,i=null){if(this._isSliding)return;const n=this._getActive(),o=t===fe,s=i||sn(this._getItems(),n,o,this._config.wrap);if(s===n)return;const r=this._getItemIndex(s),c=f=>p.trigger(this._element,f,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:r});if(c(_a).defaultPrevented||!n||!s)return;const l=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=s;const h=o?Oa:Ca,u=o?Ra:Da;s.classList.add(u),we(s),n.classList.add(h),s.classList.add(h);const d=()=>{s.classList.remove(h,u),s.classList.add(Ne),n.classList.remove(Ne,u,h),this._isSliding=!1,c(gi)};this._queueCallback(d,n,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(Sa)}_getActive(){return E.findOne(Ma,this._element)}_getItems(){return E.find(ro,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Q()?t===Xt?Yt:fe:t===Xt?fe:Yt}_orderToDirection(t){return Q()?t===Yt?Xt:Be:t===Yt?Be:Xt}static jQueryInterface(t){return this.each(function(){const i=ye.getOrCreateInstance(this,t);if(typeof t=="number"){i.to(t);return}if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}p.on(document,Ta,xa,function(e){const t=pt(this);if(!t||!t.classList.contains(so))return;e.preventDefault();const i=ye.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");if(n){i.to(n),i._maybeEnableCycle();return}if(gt.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});p.on(window,ya,()=>{const e=E.find($a);for(const t of e)ye.getOrCreateInstance(t)});Z(ye);const ka="collapse",Wa="bs.collapse",Te=`.${Wa}`,Ha=".data-api",Va=`show${Te}`,ja=`shown${Te}`,Ba=`hide${Te}`,Ya=`hidden${Te}`,Fa=`click${Te}${Ha}`,vi="show",Gt="collapse",Le="collapsing",Ua="collapsed",Ka=`:scope .${Gt} .${Gt}`,Xa="collapse-horizontal",qa="width",Ga="height",Qa=".collapse.show, .collapse.collapsing",zi='[data-bs-toggle="collapse"]',Za={parent:null,toggle:!0},Ja={parent:"(null|element)",toggle:"boolean"};class _e extends et{constructor(t,i){super(t,i),this._isTransitioning=!1,this._triggerArray=[];const n=E.find(zi);for(const o of n){const s=Fs(o),r=E.find(s).filter(c=>c===this._element);s!==null&&r.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Za}static get DefaultType(){return Ja}static get NAME(){return ka}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Qa).filter(c=>c!==this._element).map(c=>_e.getOrCreateInstance(c,{toggle:!1}))),t.length&&t[0]._isTransitioning||p.trigger(this._element,Va).defaultPrevented)return;for(const c of t)c.hide();const n=this._getDimension();this._element.classList.remove(Gt),this._element.classList.add(Le),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Le),this._element.classList.add(Gt,vi),this._element.style[n]="",p.trigger(this._element,ja)},r=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[n]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||p.trigger(this._element,Ba).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,we(this._element),this._element.classList.add(Le),this._element.classList.remove(Gt,vi);for(const o of this._triggerArray){const s=pt(o);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(Le),this._element.classList.add(Gt),p.trigger(this._element,Ya)};this._element.style[i]="",this._queueCallback(n,this._element,!0)}_isShown(t=this._element){return t.classList.contains(vi)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=yt(t.parent),t}_getDimension(){return this._element.classList.contains(Xa)?qa:Ga}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(zi);for(const i of t){const n=pt(i);n&&this._addAriaAndCollapsedClass([i],this._isShown(n))}}_getFirstLevelChildren(t){const i=E.find(Ka,this._config.parent);return E.find(t,this._config.parent).filter(n=>!i.includes(n))}_addAriaAndCollapsedClass(t,i){if(t.length)for(const n of t)n.classList.toggle(Ua,!i),n.setAttribute("aria-expanded",i)}static jQueryInterface(t){const i={};return typeof t=="string"&&/show|hide/.test(t)&&(i.toggle=!1),this.each(function(){const n=_e.getOrCreateInstance(this,i);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}p.on(document,Fa,zi,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();const t=Fs(this),i=E.find(t);for(const n of i)_e.getOrCreateInstance(n,{toggle:!1}).toggle()});Z(_e);const Pn="dropdown",tc="bs.dropdown",Vt=`.${tc}`,rn=".data-api",ec="Escape",kn="Tab",ic="ArrowUp",Wn="ArrowDown",nc=2,sc=`hide${Vt}`,oc=`hidden${Vt}`,rc=`show${Vt}`,ac=`shown${Vt}`,ao=`click${Vt}${rn}`,co=`keydown${Vt}${rn}`,cc=`keyup${Vt}${rn}`,qt="show",hc="dropup",lc="dropend",uc="dropstart",dc="dropup-center",fc="dropdown-center",$t='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',pc=`${$t}.${qt}`,Ye=".dropdown-menu",mc=".navbar",gc=".navbar-nav",vc=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",_c=Q()?"top-end":"top-start",bc=Q()?"top-start":"top-end",Ec=Q()?"bottom-end":"bottom-start",wc=Q()?"bottom-start":"bottom-end",Ac=Q()?"left-start":"right-start",yc=Q()?"right-start":"left-start",Tc="top",Sc="bottom",Cc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Oc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class at extends et{constructor(t,i){super(t,i),this._popper=null,this._parent=this._element.parentNode,this._menu=E.next(this._element,Ye)[0]||E.prev(this._element,Ye)[0]||E.findOne(Ye,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Cc}static get DefaultType(){return Oc}static get NAME(){return Pn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Tt(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!p.trigger(this._element,rc,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(gc))for(const n of[].concat(...document.body.children))p.on(n,"mouseover",Xe);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(qt),this._element.classList.add(qt),p.trigger(this._element,ac,t)}}hide(){if(Tt(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!p.trigger(this._element,sc,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))p.off(n,"mouseover",Xe);this._popper&&this._popper.destroy(),this._menu.classList.remove(qt),this._element.classList.remove(qt),this._element.setAttribute("aria-expanded","false"),gt.removeDataAttribute(this._menu,"popper"),p.trigger(this._element,oc,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!mt(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Pn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Bs>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:mt(this._config.reference)?t=yt(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const i=this._getPopperConfig();this._popper=nn(t,this._menu,i)}_isShown(){return this._menu.classList.contains(qt)}_getPlacement(){const t=this._parent;if(t.classList.contains(lc))return Ac;if(t.classList.contains(uc))return yc;if(t.classList.contains(dc))return Tc;if(t.classList.contains(fc))return Sc;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(hc)?i?bc:_c:i?wc:Ec}_detectNavbar(){return this._element.closest(mc)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(gt.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:i}){const n=E.find(vc,this._menu).filter(o=>ce(o));n.length&&sn(n,i,t===Wn,!n.includes(i)).focus()}static jQueryInterface(t){return this.each(function(){const i=at.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}static clearMenus(t){if(t.button===nc||t.type==="keyup"&&t.key!==kn)return;const i=E.find(pc);for(const n of i){const o=at.getInstance(n);if(!o||o._config.autoClose===!1)continue;const s=t.composedPath(),r=s.includes(o._menu);if(s.includes(o._element)||o._config.autoClose==="inside"&&!r||o._config.autoClose==="outside"&&r||o._menu.contains(t.target)&&(t.type==="keyup"&&t.key===kn||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const c={relatedTarget:o._element};t.type==="click"&&(c.clickEvent=t),o._completeHide(c)}}static dataApiKeydownHandler(t){const i=/input|textarea/i.test(t.target.tagName),n=t.key===ec,o=[ic,Wn].includes(t.key);if(!o&&!n||i&&!n)return;t.preventDefault();const s=this.matches($t)?this:E.prev(this,$t)[0]||E.next(this,$t)[0]||E.findOne($t,t.delegateTarget.parentNode),r=at.getOrCreateInstance(s);if(o){t.stopPropagation(),r.show(),r._selectMenuItem(t);return}r._isShown()&&(t.stopPropagation(),r.hide(),s.focus())}}p.on(document,co,$t,at.dataApiKeydownHandler);p.on(document,co,Ye,at.dataApiKeydownHandler);p.on(document,ao,at.clearMenus);p.on(document,cc,at.clearMenus);p.on(document,ao,$t,function(e){e.preventDefault(),at.getOrCreateInstance(this).toggle()});Z(at);const Hn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vn=".sticky-top",xe="padding-right",jn="margin-right";class Pi{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xe,i=>i+t),this._setElementAttributes(Hn,xe,i=>i+t),this._setElementAttributes(Vn,jn,i=>i-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xe),this._resetElementAttributes(Hn,xe),this._resetElementAttributes(Vn,jn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,i,n){const o=this.getWidth(),s=r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+o)return;this._saveInitialAttribute(r,i);const c=window.getComputedStyle(r).getPropertyValue(i);r.style.setProperty(i,`${n(Number.parseFloat(c))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,i){const n=t.style.getPropertyValue(i);n&&gt.setDataAttribute(t,i,n)}_resetElementAttributes(t,i){const n=o=>{const s=gt.getDataAttribute(o,i);if(s===null){o.style.removeProperty(i);return}gt.removeDataAttribute(o,i),o.style.setProperty(i,s)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,i){if(mt(t)){i(t);return}for(const n of E.find(t,this._element))i(n)}}const ho="backdrop",Rc="fade",Bn="show",Yn=`mousedown.bs.${ho}`,Dc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Mc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class lo extends Ae{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Dc}static get DefaultType(){return Mc}static get NAME(){return ho}show(t){if(!this._config.isVisible){ut(t);return}this._append();const i=this._getElement();this._config.isAnimated&&we(i),i.classList.add(Bn),this._emulateAnimation(()=>{ut(t)})}hide(t){if(!this._config.isVisible){ut(t);return}this._getElement().classList.remove(Bn),this._emulateAnimation(()=>{this.dispose(),ut(t)})}dispose(){this._isAppended&&(p.off(this._element,Yn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Rc),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=yt(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),p.on(t,Yn,()=>{ut(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){qs(t,this._getElement(),this._config.isAnimated)}}const Nc="focustrap",Lc="bs.focustrap",Ge=`.${Lc}`,xc=`focusin${Ge}`,$c=`keydown.tab${Ge}`,Ic="Tab",zc="forward",Fn="backward",Pc={autofocus:!0,trapElement:null},kc={autofocus:"boolean",trapElement:"element"};class uo extends Ae{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Pc}static get DefaultType(){return kc}static get NAME(){return Nc}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),p.off(document,Ge),p.on(document,xc,t=>this._handleFocusin(t)),p.on(document,$c,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,p.off(document,Ge))}_handleFocusin(t){const{trapElement:i}=this._config;if(t.target===document||t.target===i||i.contains(t.target))return;const n=E.focusableChildren(i);n.length===0?i.focus():this._lastTabNavDirection===Fn?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===Ic&&(this._lastTabNavDirection=t.shiftKey?Fn:zc)}}const Wc="modal",Hc="bs.modal",it=`.${Hc}`,Vc=".data-api",jc="Escape",Bc=`hide${it}`,Yc=`hidePrevented${it}`,fo=`hidden${it}`,po=`show${it}`,Fc=`shown${it}`,Uc=`resize${it}`,Kc=`click.dismiss${it}`,Xc=`mousedown.dismiss${it}`,qc=`keydown.dismiss${it}`,Gc=`click${it}${Vc}`,Un="modal-open",Qc="fade",Kn="show",_i="modal-static",Zc=".modal.show",Jc=".modal-dialog",th=".modal-body",eh='[data-bs-toggle="modal"]',ih={backdrop:!0,focus:!0,keyboard:!0},nh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ie extends et{constructor(t,i){super(t,i),this._dialog=E.findOne(Jc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Pi,this._addEventListeners()}static get Default(){return ih}static get DefaultType(){return nh}static get NAME(){return Wc}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||p.trigger(this._element,po,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Un),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||p.trigger(this._element,Bc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Kn),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])p.off(t,it);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new lo({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new uo({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=E.findOne(th,this._dialog);i&&(i.scrollTop=0),we(this._element),this._element.classList.add(Kn);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,p.trigger(this._element,Fc,{relatedTarget:t})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){p.on(this._element,qc,t=>{if(t.key===jc){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),p.on(window,Uc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),p.on(this._element,Xc,t=>{p.one(this._element,Kc,i=>{if(!(this._element!==t.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Un),this._resetAdjustments(),this._scrollBar.reset(),p.trigger(this._element,fo)})}_isAnimated(){return this._element.classList.contains(Qc)}_triggerBackdropTransition(){if(p.trigger(this._element,Yc).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(_i)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(_i),this._queueCallback(()=>{this._element.classList.remove(_i),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),n=i>0;if(n&&!t){const o=Q()?"paddingLeft":"paddingRight";this._element.style[o]=`${i}px`}if(!n&&t){const o=Q()?"paddingRight":"paddingLeft";this._element.style[o]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){const n=ie.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](i)}})}}p.on(document,Gc,eh,function(e){const t=pt(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),p.one(t,po,o=>{o.defaultPrevented||p.one(t,fo,()=>{ce(this)&&this.focus()})});const i=E.findOne(Zc);i&&ie.getInstance(i).hide(),ie.getOrCreateInstance(t).toggle(this)});ti(ie);Z(ie);const sh="offcanvas",oh="bs.offcanvas",_t=`.${oh}`,mo=".data-api",rh=`load${_t}${mo}`,ah="Escape",Xn="show",qn="showing",Gn="hiding",ch="offcanvas-backdrop",go=".offcanvas.show",hh=`show${_t}`,lh=`shown${_t}`,uh=`hide${_t}`,Qn=`hidePrevented${_t}`,vo=`hidden${_t}`,dh=`resize${_t}`,fh=`click${_t}${mo}`,ph=`keydown.dismiss${_t}`,mh='[data-bs-toggle="offcanvas"]',gh={backdrop:!0,keyboard:!0,scroll:!1},vh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class St extends et{constructor(t,i){super(t,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return gh}static get DefaultType(){return vh}static get NAME(){return sh}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||p.trigger(this._element,hh,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Pi().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qn);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Xn),this._element.classList.remove(qn),p.trigger(this._element,lh,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||p.trigger(this._element,uh).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Gn),this._backdrop.hide();const i=()=>{this._element.classList.remove(Xn,Gn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Pi().reset(),p.trigger(this._element,vo)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){p.trigger(this._element,Qn);return}this.hide()},i=!!this._config.backdrop;return new lo({className:ch,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?t:null})}_initializeFocusTrap(){return new uo({trapElement:this._element})}_addEventListeners(){p.on(this._element,ph,t=>{if(t.key===ah){if(!this._config.keyboard){p.trigger(this._element,Qn);return}this.hide()}})}static jQueryInterface(t){return this.each(function(){const i=St.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}p.on(document,fh,mh,function(e){const t=pt(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Tt(this))return;p.one(t,vo,()=>{ce(this)&&this.focus()});const i=E.findOne(go);i&&i!==t&&St.getInstance(i).hide(),St.getOrCreateInstance(t).toggle(this)});p.on(window,rh,()=>{for(const e of E.find(go))St.getOrCreateInstance(e).show()});p.on(window,dh,()=>{for(const e of E.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&St.getOrCreateInstance(e).hide()});ti(St);Z(St);const _h=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bh=/^aria-[\w-]*$/i,Eh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,wh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ah=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?_h.has(i)?!!(Eh.test(e.nodeValue)||wh.test(e.nodeValue)):!0:t.filter(n=>n instanceof RegExp).some(n=>n.test(i))},_o={"*":["class","dir","id","lang","role",bh],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function yh(e,t,i){if(!e.length)return e;if(i&&typeof i=="function")return i(e);const o=new window.DOMParser().parseFromString(e,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const r of s){const c=r.nodeName.toLowerCase();if(!Object.keys(t).includes(c)){r.remove();continue}const a=[].concat(...r.attributes),l=[].concat(t["*"]||[],t[c]||[]);for(const h of a)Ah(h,l)||r.removeAttribute(h.nodeName)}return o.body.innerHTML}const Th="TemplateFactory",Sh={allowList:_o,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ch={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Oh={entry:"(string|element|function|null)",selector:"(string|element)"};class Rh extends Ae{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Sh}static get DefaultType(){return Ch}static get NAME(){return Th}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[o,s]of Object.entries(this._config.content))this._setContent(t,s,o);const i=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&i.classList.add(...n.split(" ")),i}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[i,n]of Object.entries(t))super._typeCheckConfig({selector:i,entry:n},Oh)}_setContent(t,i,n){const o=E.findOne(n,t);if(o){if(i=this._resolvePossibleFunction(i),!i){o.remove();return}if(mt(i)){this._putElementInTemplate(yt(i),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(i);return}o.textContent=i}}_maybeSanitize(t){return this._config.sanitize?yh(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return typeof t=="function"?t(this):t}_putElementInTemplate(t,i){if(this._config.html){i.innerHTML="",i.append(t);return}i.textContent=t.textContent}}const Dh="tooltip",Mh=new Set(["sanitize","allowList","sanitizeFn"]),bi="fade",Nh="modal",$e="show",Lh=".tooltip-inner",Zn=`.${Nh}`,Jn="hide.bs.modal",pe="hover",Ei="focus",xh="click",$h="manual",Ih="hide",zh="hidden",Ph="show",kh="shown",Wh="inserted",Hh="click",Vh="focusin",jh="focusout",Bh="mouseenter",Yh="mouseleave",Fh={AUTO:"auto",TOP:"top",RIGHT:Q()?"left":"right",BOTTOM:"bottom",LEFT:Q()?"right":"left"},Uh={allowList:_o,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Kh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class le extends et{constructor(t,i){if(typeof Bs>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Uh}static get DefaultType(){return Kh}static get NAME(){return Dh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),p.off(this._element.closest(Zn),Jn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=p.trigger(this._element,this.constructor.eventName(Ph)),n=(Ks(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!n)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(o),p.trigger(this._element,this.constructor.eventName(Wh))),this._popper=this._createPopper(o),o.classList.add($e),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))p.on(c,"mouseover",Xe);const r=()=>{p.trigger(this._element,this.constructor.eventName(kh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(r,this.tip,this._isAnimated())}hide(){if(!this._isShown()||p.trigger(this._element,this.constructor.eventName(Ih)).defaultPrevented)return;if(this._getTipElement().classList.remove($e),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))p.off(o,"mouseover",Xe);this._activeTrigger[xh]=!1,this._activeTrigger[Ei]=!1,this._activeTrigger[pe]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),p.trigger(this._element,this.constructor.eventName(zh)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const i=this._getTemplateFactory(t).toHtml();if(!i)return null;i.classList.remove(bi,$e),i.classList.add(`bs-${this.constructor.NAME}-auto`);const n=Lr(this.constructor.NAME).toString();return i.setAttribute("id",n),this._isAnimated()&&i.classList.add(bi),i}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Rh({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Lh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(bi)}_isShown(){return this.tip&&this.tip.classList.contains($e)}_createPopper(t){const i=typeof this._config.placement=="function"?this._config.placement.call(this,t,this._element):this._config.placement,n=Fh[i.toUpperCase()];return nn(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const i={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...i,...typeof this._config.popperConfig=="function"?this._config.popperConfig(i):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const i of t)if(i==="click")p.on(this._element,this.constructor.eventName(Hh),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(i!==$h){const n=i===pe?this.constructor.eventName(Bh):this.constructor.eventName(Vh),o=i===pe?this.constructor.eventName(Yh):this.constructor.eventName(jh);p.on(this._element,n,this._config.selector,s=>{const r=this._initializeOnDelegatedTarget(s);r._activeTrigger[s.type==="focusin"?Ei:pe]=!0,r._enter()}),p.on(this._element,o,this._config.selector,s=>{const r=this._initializeOnDelegatedTarget(s);r._activeTrigger[s.type==="focusout"?Ei:pe]=r._element.contains(s.relatedTarget),r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},p.on(this._element.closest(Zn),Jn,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,i){clearTimeout(this._timeout),this._timeout=setTimeout(t,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const i=gt.getDataAttributes(this._element);for(const n of Object.keys(i))Mh.has(n)&&delete i[n];return t={...i,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:yt(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const i in this._config)this.constructor.Default[i]!==this._config[i]&&(t[i]=this._config[i]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const i=le.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Z(le);const Xh="popover",qh=".popover-header",Gh=".popover-body",Qh={...le.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Zh={...le.DefaultType,content:"(null|string|element|function)"};class an extends le{static get Default(){return Qh}static get DefaultType(){return Zh}static get NAME(){return Xh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[qh]:this._getTitle(),[Gh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const i=an.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Z(an);const Jh="scrollspy",tl="bs.scrollspy",cn=`.${tl}`,el=".data-api",il=`activate${cn}`,ts=`click${cn}`,nl=`load${cn}${el}`,sl="dropdown-item",Ft="active",ol='[data-bs-spy="scroll"]',wi="[href]",rl=".nav, .list-group",es=".nav-link",al=".nav-item",cl=".list-group-item",hl=`${es}, ${al} > ${es}, ${cl}`,ll=".dropdown",ul=".dropdown-toggle",dl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},fl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ni extends et{constructor(t,i){super(t,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return dl}static get DefaultType(){return fl}static get NAME(){return Jh}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=yt(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(i=>Number.parseFloat(i))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(p.off(this._config.target,ts),p.on(this._config.target,ts,wi,t=>{const i=this._observableSections.get(t.target.hash);if(i){t.preventDefault();const n=this._rootElement||window,o=i.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:o,behavior:"smooth"});return}n.scrollTop=o}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),t)}_observerCallback(t){const i=r=>this._targetLinks.get(`#${r.target.id}`),n=r=>{this._previousScrollData.visibleEntryTop=r.target.offsetTop,this._process(i(r))},o=(this._rootElement||document.documentElement).scrollTop,s=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const r of t){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(r));continue}const c=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(n(r),!o)return;continue}!s&&!c&&n(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=E.find(wi,this._config.target);for(const i of t){if(!i.hash||Tt(i))continue;const n=E.findOne(i.hash,this._element);ce(n)&&(this._targetLinks.set(i.hash,i),this._observableSections.set(i.hash,n))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Ft),this._activateParents(t),p.trigger(this._element,il,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(sl)){E.findOne(ul,t.closest(ll)).classList.add(Ft);return}for(const i of E.parents(t,rl))for(const n of E.prev(i,hl))n.classList.add(Ft)}_clearActiveClass(t){t.classList.remove(Ft);const i=E.find(`${wi}.${Ft}`,t);for(const n of i)n.classList.remove(Ft)}static jQueryInterface(t){return this.each(function(){const i=ni.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}p.on(window,nl,()=>{for(const e of E.find(ol))ni.getOrCreateInstance(e)});Z(ni);const pl="tab",ml="bs.tab",jt=`.${ml}`,gl=`hide${jt}`,vl=`hidden${jt}`,_l=`show${jt}`,bl=`shown${jt}`,El=`click${jt}`,wl=`keydown${jt}`,Al=`load${jt}`,yl="ArrowLeft",is="ArrowRight",Tl="ArrowUp",ns="ArrowDown",It="active",ss="fade",Ai="show",Sl="dropdown",Cl=".dropdown-toggle",Ol=".dropdown-menu",yi=":not(.dropdown-toggle)",Rl='.list-group, .nav, [role="tablist"]',Dl=".nav-item, .list-group-item",Ml=`.nav-link${yi}, .list-group-item${yi}, [role="tab"]${yi}`,bo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ti=`${Ml}, ${bo}`,Nl=`.${It}[data-bs-toggle="tab"], .${It}[data-bs-toggle="pill"], .${It}[data-bs-toggle="list"]`;class ne extends et{constructor(t){super(t),this._parent=this._element.closest(Rl),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),p.on(this._element,wl,i=>this._keydown(i)))}static get NAME(){return pl}show(){const t=this._element;if(this._elemIsActive(t))return;const i=this._getActiveElem(),n=i?p.trigger(i,gl,{relatedTarget:t}):null;p.trigger(t,_l,{relatedTarget:i}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(i,t),this._activate(t,i))}_activate(t,i){if(!t)return;t.classList.add(It),this._activate(pt(t));const n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Ai);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),p.trigger(t,bl,{relatedTarget:i})};this._queueCallback(n,t,t.classList.contains(ss))}_deactivate(t,i){if(!t)return;t.classList.remove(It),t.blur(),this._deactivate(pt(t));const n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Ai);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),p.trigger(t,vl,{relatedTarget:i})};this._queueCallback(n,t,t.classList.contains(ss))}_keydown(t){if(![yl,is,Tl,ns].includes(t.key))return;t.stopPropagation(),t.preventDefault();const i=[is,ns].includes(t.key),n=sn(this._getChildren().filter(o=>!Tt(o)),t.target,i,!0);n&&(n.focus({preventScroll:!0}),ne.getOrCreateInstance(n).show())}_getChildren(){return E.find(Ti,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,i){this._setAttributeIfNotExists(t,"role","tablist");for(const n of i)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const i=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",i),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),i||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const i=pt(t);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,i){const n=this._getOuterElement(t);if(!n.classList.contains(Sl))return;const o=(s,r)=>{const c=E.findOne(s,n);c&&c.classList.toggle(r,i)};o(Cl,It),o(Ol,Ai),n.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(t,i,n){t.hasAttribute(i)||t.setAttribute(i,n)}_elemIsActive(t){return t.classList.contains(It)}_getInnerElement(t){return t.matches(Ti)?t:E.findOne(Ti,t)}_getOuterElement(t){return t.closest(Dl)||t}static jQueryInterface(t){return this.each(function(){const i=ne.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}p.on(document,El,bo,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Tt(this)&&ne.getOrCreateInstance(this).show()});p.on(window,Al,()=>{for(const e of E.find(Nl))ne.getOrCreateInstance(e)});Z(ne);const Ll="toast",xl="bs.toast",Rt=`.${xl}`,$l=`mouseover${Rt}`,Il=`mouseout${Rt}`,zl=`focusin${Rt}`,Pl=`focusout${Rt}`,kl=`hide${Rt}`,Wl=`hidden${Rt}`,Hl=`show${Rt}`,Vl=`shown${Rt}`,jl="fade",os="hide",Ie="show",ze="showing",Bl={animation:"boolean",autohide:"boolean",delay:"number"},Yl={animation:!0,autohide:!0,delay:5e3};class si extends et{constructor(t,i){super(t,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Yl}static get DefaultType(){return Bl}static get NAME(){return Ll}show(){if(p.trigger(this._element,Hl).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(jl);const i=()=>{this._element.classList.remove(ze),p.trigger(this._element,Vl),this._maybeScheduleHide()};this._element.classList.remove(os),we(this._element),this._element.classList.add(Ie,ze),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||p.trigger(this._element,kl).defaultPrevented)return;const i=()=>{this._element.classList.add(os),this._element.classList.remove(ze,Ie),p.trigger(this._element,Wl)};this._element.classList.add(ze),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ie),super.dispose()}isShown(){return this._element.classList.contains(Ie)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,i){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){p.on(this._element,$l,t=>this._onInteraction(t,!0)),p.on(this._element,Il,t=>this._onInteraction(t,!1)),p.on(this._element,zl,t=>this._onInteraction(t,!0)),p.on(this._element,Pl,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const i=si.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}ti(si);Z(si);function rs(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,n)}return i}function A(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?rs(Object(i),!0).forEach(function(n){X(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rs(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function X(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Fl(e,t){if(e==null)return{};var i,n,o=function(r,c){if(r==null)return{};var a,l,h={},u=Object.keys(r);for(l=0;l<u.length;l++)a=u[l],c.indexOf(a)>=0||(h[a]=r[a]);return h}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function Wt(e){return function(t){if(Array.isArray(t))return Si(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,i){if(t){if(typeof t=="string")return Si(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(t,i)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Si(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var as,Ul,Pe,L=(as=function(e){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var t={}.hasOwnProperty;function i(){for(var n=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var r=typeof s;if(r==="string"||r==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var c=i.apply(null,s);c&&n.push(c)}}else if(r==="object")if(s.toString===Object.prototype.toString)for(var a in s)t.call(s,a)&&s[a]&&n.push(a);else n.push(s.toString())}}return n.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i})()},as(Pe={path:Ul,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(t==null&&Pe.path)}},Pe.exports),Pe.exports),nt=function(e){return function(t,i){if(!t)return e;var n;typeof t=="string"?n=t:i=t;var o=e;return n&&(o+="__"+n),o+(i?Object.keys(i).reduce(function(s,r){var c=i[r];return c&&(s+=" "+(typeof c=="boolean"?o+"--"+r:o+"--"+r+"_"+c)),s},""):"")}};function ki(e,t,i){var n,o,s,r,c;function a(){var h=Date.now()-r;h<t&&h>=0?n=setTimeout(a,t-h):(n=null,i||(c=e.apply(s,o),s=o=null))}t==null&&(t=100);var l=function(){s=this,o=arguments,r=Date.now();var h=i&&!n;return n||(n=setTimeout(a,t)),h&&(c=e.apply(s,o),s=o=null),c};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(c=e.apply(s,o),s=o=null,clearTimeout(n),n=null)},l}ki.debounce=ki;var Wi=ki,v=function(){return v=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Eo(e,t){var i,n;return e&&t?(i=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(i=e||t,n=e||t),{name:i,classname:n}}function wo(e){return/^blob:/.test(e)}function cs(e){return wo(e)||function(t){return/^data:/.test(t)}(e)}function Ut(e){return!!(e&&e.constructor&&e.call&&e.apply)}function $(e){return e===void 0}function Fe(e){return typeof e=="object"&&e!==null}function Hi(e,t,i){var n={};return Fe(e)?(Object.keys(t).forEach(function(o){$(e[o])?n[o]=t[o]:Fe(t[o])?Fe(e[o])?n[o]=Hi(e[o],t[o],i[o]):n[o]=e[o]?t[o]:i[o]:t[o]===!0||t[o]===!1?n[o]=!!e[o]:n[o]=e[o]}),n):e?t:i}function ke(e){var t=Number(e);return Number.isNaN(t)?e:t}function hs(e){return typeof(e=="number"||function(t){return typeof t=="object"&&t!==null}(e)&&toString.call(e)=="[object Number]")&&!Ao(e)}function Ao(e){return e!=e}function yo(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var ve=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},Kl=function(e,t){t===void 0&&(t={}),this.type="resize",this.directions=e,this.params=t},hn=function(e){this.type="move",this.directions=e},Xl=function(){function e(t,i,n,o,s){this.type="drag",this.nativeEvent=t,this.position=n,this.previousPosition=o,this.element=i,this.anchor=s}return e.prototype.shift=function(){var t=this,i=t.element,n=t.anchor,o=t.position;if(i){var s=i.getBoundingClientRect(),r=s.left,c=s.top;return{left:o.left-r-n.left,top:o.top-c-n.top}}return{left:0,top:0}},e}(),ln={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&e.touches.length===1&&(this.touches=Wt(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,i){return{clientX:t.clientX+i.clientX/e.touches.length,clientY:t.clientY+i.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),i=t.left,n=t.right,o=t.bottom,s=t.top;this.anchor={left:e.clientX-i,top:e.clientY-s,bottom:o-e.clientY,right:n-e.clientX}},processMove:function(e,t){var i=Wt(t);if(this.touches.length){if(this.touches.length===1&&i.length===1){var n=this.$refs.draggable;this.$emit("drag",new Xl(e,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};ln.render=function(e,t,i,n,o,s){return D(),M("div",{ref:"draggable",class:i.classname,onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onMouseover:t[3]||(t[3]=function(){return s.onMouseOver&&s.onMouseOver.apply(s,arguments)}),onMouseleave:t[4]||(t[4]=function(){return s.onMouseLeave&&s.onMouseLeave.apply(s,arguments)})},[Ht(e.$slots,"default")],34)};var Ci=nt("vue-handler-wrapper"),To={name:"HandlerWrapper",components:{DraggableElement:ln},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,i=Eo(this.horizontalPosition,this.verticalPosition);e=Ci((X(t={},i.classname,!0),X(t,"disabled",this.disabled),t))}else e=Ci({disabled:this.disabled});return{root:e,draggable:Ci("draggable")}}},emits:["leave","enter","drag","drag-end"]};To.render=function(e,t,i,n,o,s){var r=ft("DraggableElement");return D(),M("div",{class:s.classes.root},[H(r,{class:s.classes.draggable,onDrag:t[1]||(t[1]=function(c){return e.$emit("drag",c)}),onDragEnd:t[2]||(t[2]=function(c){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(c){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(c){return e.$emit("enter")})},{default:At(function(){return[Ht(e.$slots,"default")]}),_:3},8,["class"])],2)};var ql=nt("vue-line-wrapper"),So={name:"LineWrapper",components:{DraggableElement:ln},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return ql((X(e={},this.position,!0),X(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"]};So.render=function(e,t,i,n,o,s){var r=ft("DraggableElement");return D(),M(r,{class:s.classname,onDrag:t[1]||(t[1]=function(c){return e.$emit("drag",c)}),onDragEnd:t[2]||(t[2]=function(c){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(c){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(c){return e.$emit("enter")})},{default:At(function(){return[Ht(e.$slots,"default")]}),_:3},8,["class"])};var ot=["left","right","top","bottom"],Gl=["left","right"],Ql=["top","bottom"],Zl=["left","top"],Jl=["fill-area","fit-area","stencil","none"],ls={left:0,top:0,width:0,height:0};function us(e,t,i){return!(i=i||["width","height","left","top"]).some(function(n){return e[n]!==t[n]})}function ht(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function se(e,t){return{left:e.left-t.left,top:e.top-t.top}}function z(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function be(e,t){var i={left:0,top:0,right:0,bottom:0};return ot.forEach(function(n){var o=t[n],s=ht(e)[n];i[n]=o!==void 0&&s!==void 0?n==="left"||n==="top"?Math.max(0,o-s):Math.max(0,s-o):0}),i}function st(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function oi(e){return{left:-e.left,top:-e.top}}function B(e,t){return v(v({},e),{left:e.left+t.left,top:e.top+t.top})}function G(e,t,i,n){if(t!==1){if(i){var o=z(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(i.left-o.left)*(n||1-t),top:e.top+e.height*(1-t)/2+(i.top-o.top)*(n||1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function y(e){return e.width/e.height}function oe(e,t){return Math.min(t.right!==void 0&&t.left!==void 0?(t.right-t.left)/e.width:1/0,t.bottom!==void 0&&t.top!==void 0?(t.bottom-t.top)/e.height:1/0)}function re(e,t){var i={left:0,top:0},n=be(e,t);return n.left&&n.left>0?i.left=n.left:n.right&&n.right>0&&(i.left=-n.right),n.top&&n.top>0?i.top=n.top:n.bottom&&n.bottom>0&&(i.top=-n.bottom),i}function Oi(e,t){var i;return t.minimum&&e<t.minimum?i=t.minimum:t.maximum&&e>t.maximum&&(i=t.maximum),i}function Co(e,t){var i=y(e),n=y(t);return t.width<1/0&&t.height<1/0?i>n?{width:t.width,height:t.width/i}:{width:t.height*i,height:t.height}:t.width<1/0?{width:t.width,height:t.width/i}:t.height<1/0?{width:t.height*i,height:t.height}:e}function Oo(e,t){var i=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(i))+Math.abs(e.height*Math.sin(i)),height:Math.abs(e.width*Math.sin(i))+Math.abs(e.height*Math.cos(i))}}function wt(e,t){var i=t*Math.PI/180;return{left:e.left*Math.cos(i)-e.top*Math.sin(i),top:e.left*Math.sin(i)+e.top*Math.cos(i)}}function ri(e,t){var i=be(P(e,t),t);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((e.width+i.left+i.right)/e.width,oe(e,t)):Math.min((e.height+i.top+i.bottom)/e.height,oe(e,t)):1}function P(e,t,i){i===void 0&&(i=!1);var n=re(e,t);return B(e,i?oi(n):n)}function Vi(e){return{width:e.right!==void 0&&e.left!==void 0?e.right-e.left:1/0,height:e.bottom!==void 0&&e.top!==void 0?e.bottom-e.top:1/0}}function tu(e,t){return v(v({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function Ro(e,t,i){i===void 0&&(i=!0);var n={};return ot.forEach(function(o){var s=e[o],r=t[o];s!==void 0&&r!==void 0?n[o]=o==="left"||o==="top"?i?Math.max(s,r):Math.min(s,r):i?Math.min(s,r):Math.max(s,r):r!==void 0?n[o]=r:s!==void 0&&(n[o]=s)}),n}function ai(e,t){return Ro(e,t,!0)}function ds(e){var t=e.size,i=e.aspectRatio,n=e.ignoreMinimum,o=e.sizeRestrictions;return!!((t.correctRatio||y(t)>=i.minimum&&y(t)<=i.maximum)&&t.height<=o.maxHeight&&t.width<=o.maxWidth&&t.width&&t.height&&(n||t.height>=o.minHeight&&t.width>=o.minWidth))}function fs(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function dt(e){var t=e.width,i=e.height,n=e.sizeRestrictions,o={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},s={width:Math.max(n.minWidth,Math.min(n.maxWidth,t)),height:Math.max(n.minHeight,Math.min(n.maxHeight,i))};function r(l,h){return h===void 0&&(h=!1),l.reduce(function(u,d){return ds({size:d,aspectRatio:o,sizeRestrictions:n,ignoreMinimum:h})&&(!u||fs(d,{width:t,height:i})<fs(u,{width:t,height:i}))?d:u},null)}var c=[];o&&[o.minimum,o.maximum].forEach(function(l){l&&c.push({width:s.width,height:s.width/l,correctRatio:!0},{width:s.height*l,height:s.height,correctRatio:!0})}),ds({size:s,aspectRatio:o,sizeRestrictions:n})&&c.push(s);var a=r(c)||r(c,!0);return a&&{width:a.width,height:a.height}}function ji(e){var t=e.event,i=e.coordinates,n=e.positionRestrictions,o=n===void 0?{}:n,s=B(i,t.directions);return B(s,re(s,o))}function eu(e){var t=e.coordinates,i=e.transform,n=e.imageSize,o=e.sizeRestrictions,s=e.positionRestrictions,r=e.aspectRatio,c=e.visibleArea,a=function(h,u){return ji({coordinates:h,positionRestrictions:s,event:new hn({left:u.left-h.left,top:u.top-h.top})})},l=v({},t);return(Array.isArray(i)?i:[i]).forEach(function(h){var u={};$((u=typeof h=="function"?h({coordinates:l,imageSize:n,visibleArea:c}):h).width)&&$(u.height)||(l=function(d,f){var g=v(v(v({},d),dt({width:f.width,height:f.height,sizeRestrictions:o,aspectRatio:r})),{left:0,top:0});return a(g,{left:d.left,top:d.top})}(l,v(v({},l),u))),$(u.left)&&$(u.top)||(l=a(l,v(v({},l),u)))}),l}function iu(e){e.event;var t=e.getAreaRestrictions,i=e.boundaries,n=e.coordinates,o=e.visibleArea;e.aspectRatio;var s=e.stencilSize,r=e.sizeRestrictions,c=e.positionRestrictions;e.stencilReference;var a,l,h,u=v({},n),d=v({},o),f=v({},s);a=y(f),l=y(u),h===void 0&&(h=.001),(a===0||l===0?Math.abs(l-a)<h:Math.abs(l/a)<1+h&&Math.abs(l/a)>1-h)||(u=v(v({},u),dt({sizeRestrictions:r,width:u.width,height:u.height,aspectRatio:{minimum:y(f),maximum:y(f)}})));var g=ri(d=G(d,u.width*i.width/(d.width*f.width)),t({visibleArea:d,type:"resize"}));return g!==1&&(d=G(d,g),u=G(u,g)),d=P(d=B(d,se(z(u),z(d))),t({visibleArea:d,type:"move"})),{coordinates:u=P(u,ai(ht(d),c)),visibleArea:d}}function nu(e){var t=e.event,i=e.getAreaRestrictions,n=e.boundaries,o=e.coordinates,s=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var r=e.positionRestrictions;e.stencilReference;var c=v({},o),a=v({},s);if(o&&s&&t.type!=="manipulateImage"){var l={width:0,height:0};a.width,n.width,y(n)>y(c)?(l.height=.8*n.height,l.width=l.height*y(c)):(l.width=.8*n.width,l.height=l.width*y(c));var h=ri(a=G(a,c.width*n.width/(a.width*l.width)),i({visibleArea:a,type:"resize"}));a=G(a,h),h!==1&&(l.height/=h,l.width/=h),a=P(a=B(a,se(z(c),z(a))),i({visibleArea:a,type:"move"})),c=P(c,ai(ht(a),r))}return{coordinates:c,visibleArea:a}}function su(e){var t=e.event,i=e.coordinates,n=e.visibleArea,o=e.getAreaRestrictions,s=v({},n),r=v({},i);if(t.type==="setCoordinates"){var c=Math.max(0,r.width-s.width),a=Math.max(0,r.height-s.height);c>a?s=G(s,Math.min(r.width/s.width,oe(s,o({visibleArea:s,type:"resize"})))):a>c&&(s=G(s,Math.min(r.height/s.height,oe(s,o({visibleArea:s,type:"resize"}))))),s=P(s=B(s,oi(re(r,ht(s)))),o({visibleArea:s,type:"move"}))}return{visibleArea:s,coordinates:r}}function ou(e){var t=e.imageSize,i=e.visibleArea,n=e.coordinates,o=i||t;return{left:(i?i.left:0)+o.width/2-n.width/2,top:(i?i.top:0)+o.height/2-n.height/2}}function ru(e){var t=e.imageSize,i=e.visibleArea,n=e.aspectRatio,o=e.sizeRestrictions,s=i||t,r=Math.min(n.maximum||1/0,Math.max(n.minimum||0,y(s))),c=s.width<s.height?{width:.8*s.width,height:.8*s.width/r}:{height:.8*s.height,width:.8*s.height*r};return dt(v(v({},c),{aspectRatio:n,sizeRestrictions:o}))}function au(e){var t,i,n=e.imageSize,o=e.visibleArea,s=e.boundaries,r=e.aspectRatio,c=e.sizeRestrictions,a=e.stencilSize,l=o||n;return y(l)>y(s)?i=(t=a.height*l.height/s.height)*y(a):t=(i=a.width*l.width/s.width)/y(a),dt({width:i,height:t,aspectRatio:r,sizeRestrictions:c})}function cu(e){var t=e.getAreaRestrictions,i=e.coordinates,n=e.imageSize,o=y(e.boundaries);if(i){var s={height:Math.max(i.height,n.height),width:Math.max(i.width,n.width)},r=Co({width:y(s)>o?s.width:s.height*o,height:y(s)>o?s.width/o:s.height},Vi(t())),c={left:i.left+i.width/2-r.width/2,top:i.top+i.height/2-r.height/2,width:r.width,height:r.height},a=be(i,ht(v({left:0,top:0},n))),l={};return!a.left&&!a.right&&c.width<=n.width&&(l.left=0,l.right=n.width),!a.top&&!a.bottom&&c.height<=n.height&&(l.top=0,l.bottom=n.height),P(c,l)}var h=y(n);return r={height:h>o?n.height:n.width/o,width:h>o?n.height*o:n.width},{left:n.width/2-r.width/2,top:n.height/2-r.height/2,width:r.width,height:r.height}}function We(e,t){return Ro(e,ht(t))}function hu(e){var t=e.event,i=e.coordinates,n=e.visibleArea,o=e.sizeRestrictions,s=e.getAreaRestrictions,r=e.positionRestrictions,c=e.adjustStencil,a=t.scale,l=t.move,h=v({},n),u=v({},i),d=1,f=1,g=a.factor&&Math.abs(a.factor-1)>.001;h=B(h,{left:l.left||0,top:l.top||0});var m={stencil:{minimum:Math.max(o.minWidth?o.minWidth/u.width:0,o.minHeight?o.minHeight/u.height:0),maximum:Math.min(o.maxWidth?o.maxWidth/u.width:1/0,o.maxHeight?o.maxHeight/u.height:1/0,oe(u,r))},area:{maximum:oe(h,s({visibleArea:h,type:"resize"}))}};a.factor&&g&&(a.factor<1?(f=Math.max(a.factor,m.stencil.minimum))>1&&(f=1):a.factor>1&&(f=Math.min(a.factor,Math.min(m.area.maximum,m.stencil.maximum)))<1&&(f=1)),f&&(h=G(h,f,a.center));var _=i.left-n.left,w=n.width+n.left-(i.width+i.left),C=i.top-n.top,O=n.height+n.top-(i.height+i.top);return h=P(h=B(h,re(h,{left:r.left!==void 0?r.left-_*f:void 0,top:r.top!==void 0?r.top-C*f:void 0,bottom:r.bottom!==void 0?r.bottom+O*f:void 0,right:r.right!==void 0?r.right+w*f:void 0})),s({visibleArea:h,type:"move"})),u.width=u.width*f,u.height=u.height*f,u.left=h.left+_*f,u.top=h.top+C*f,u=P(u,ai(ht(h),r)),a.factor&&g&&c&&(a.factor>1?d=Math.min(m.area.maximum,a.factor)/f:a.factor<1&&(d=Math.max(u.height/h.height,u.width/h.width,a.factor/f)),d!==1&&(h=B(h=P(h=G(h,d,a.factor>1?a.center:z(u)),s({visibleArea:h,type:"move"})),oi(re(u,ht(h)))))),{coordinates:u,visibleArea:h}}function lu(e){var t=e.aspectRatio,i=e.getAreaRestrictions,n=e.coordinates,o=e.visibleArea,s=e.sizeRestrictions,r=e.positionRestrictions,c=e.imageSize,a=e.previousImageSize,l=e.angle,h=v({},n),u=v({},o),d=wt(z(v({left:0,top:0},a)),l);return(h=v(v({},dt({sizeRestrictions:s,aspectRatio:t,width:h.width,height:h.height})),wt(z(h),l))).left-=d.left-c.width/2+h.width/2,h.top-=d.top-c.height/2+h.height/2,u=G(u,ri(u,i({visibleArea:u,type:"resize"}))),{coordinates:h=P(h,r),visibleArea:u=P(u=B(u,se(z(h),z(n))),i({visibleArea:u,type:"move"}))}}function uu(e){var t=e.flip,i=e.previousFlip,n=e.rotate;e.aspectRatio;var o=e.getAreaRestrictions,s=e.coordinates,r=e.visibleArea,c=e.imageSize,a=v({},s),l=v({},r),h=i.horizontal!==t.horizontal,u=i.vertical!==t.vertical;if(h||u){var d=wt({left:c.width/2,top:c.height/2},-n),f=wt(z(a),-n),g=wt({left:h?d.left-(f.left-d.left):f.left,top:u?d.top-(f.top-d.top):f.top},n);a=B(a,se(g,z(a))),f=wt(z(l),-n),l=P(l=B(l,se(g=wt({left:h?d.left-(f.left-d.left):f.left,top:u?d.top-(f.top-d.top):f.top},n),z(l))),o({visibleArea:l,type:"move"}))}return{coordinates:a,visibleArea:l}}function ps(e){var t=e.directions,i=e.coordinates,n=e.positionRestrictions,o=n===void 0?{}:n,s=e.sizeRestrictions,r=e.preserveRatio,c=e.compensate,a=v({},t),l=st(i,a).width,h=st(i,a).height;l<0&&(a.left<0&&a.right<0?(a.left=-(i.width-s.minWidth)/(a.left/a.right),a.right=-(i.width-s.minWidth)/(a.right/a.left)):a.left<0?a.left=-(i.width-s.minWidth):a.right<0&&(a.right=-(i.width-s.minWidth))),h<0&&(a.top<0&&a.bottom<0?(a.top=-(i.height-s.minHeight)/(a.top/a.bottom),a.bottom=-(i.height-s.minHeight)/(a.bottom/a.top)):a.top<0?a.top=-(i.height-s.minHeight):a.bottom<0&&(a.bottom=-(i.height-s.minHeight)));var u=be(st(i,a),o);c&&(u.left&&u.left>0&&u.right===0?(a.right+=u.left,a.left-=u.left):u.right&&u.right>0&&u.left===0&&(a.left+=u.right,a.right-=u.right),u.top&&u.top>0&&u.bottom===0?(a.bottom+=u.top,a.top-=u.top):u.bottom&&u.bottom>0&&u.top===0&&(a.top+=u.bottom,a.bottom-=u.bottom),u=be(st(i,a),o));var d={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(ot.forEach(function(m){var _=u[m];_&&a[m]&&(d[m]=Math.max(0,1-_/a[m]))}),r){var f=Math.min.apply(null,ot.map(function(m){return d[m]}));f!==1/0&&ot.forEach(function(m){a[m]*=f})}else ot.forEach(function(m){d[m]!==1/0&&(a[m]*=d[m])});if(l=st(i,a).width,h=st(i,a).height,a.right+a.left&&(l>s.maxWidth?d.width=(s.maxWidth-i.width)/(a.right+a.left):l<s.minWidth&&(d.width=(s.minWidth-i.width)/(a.right+a.left))),a.bottom+a.top&&(h>s.maxHeight?d.height=(s.maxHeight-i.height)/(a.bottom+a.top):h<s.minHeight&&(d.height=(s.minHeight-i.height)/(a.bottom+a.top))),r){var g=Math.min(d.width,d.height);g!==1/0&&ot.forEach(function(m){a[m]*=g})}else d.width!==1/0&&Gl.forEach(function(m){a[m]*=d.width}),d.height!==1/0&&Ql.forEach(function(m){a[m]*=d.height});return a}function He(e,t,i){return t==0&&i==0?e/2:t==0?0:i==0?e:e*Math.abs(t/(t+i))}var du=nt("vue-simple-handler"),fu=nt("vue-simple-handler-wrapper"),un={name:"SimpleHandler",components:{HandlerWrapper:To},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(X(e={},this.horizontalPosition,!!this.horizontalPosition),X(e,this.verticalPosition,!!this.verticalPosition),X(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),X(e,"hover",this.hover),e);return{default:L(du(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:L(fu(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};un.render=function(e,t,i,n,o,s){var r=ft("HandlerWrapper");return D(),M(r,{class:s.classes.wrapper,"vertical-position":i.verticalPosition,"horizontal-position":i.horizontalPosition,disabled:i.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:At(function(){return[H("div",{class:s.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var pu=nt("vue-simple-line"),mu=nt("vue-simple-line-wrapper"),dn={name:"SimpleLine",components:{LineWrapper:So},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:L(pu(X({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:L(mu(X({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};dn.render=function(e,t,i,n,o,s){var r=ft("LineWrapper");return D(),M(r,{class:s.classes.wrapper,position:i.position,disabled:i.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:At(function(){return[H("div",{class:s.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Ri=nt("vue-bounding-box"),gu=["east","west",null],vu=["south","north",null],Do={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return un}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return dn}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return gu.forEach(function(t){vu.forEach(function(i){if(t!==i){var n=Eo(t,i),o=n.name,s=n.classname;e.push({name:o,classname:s,verticalDirection:i,horizontalDirection:t})}})}),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,i=this.linesClasses,n=this.linesWrappersClasses;return{root:Ri(),handlers:e,handlersWrappers:t,lines:i,linesWrappers:n}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(i){i.horizontalDirection&&i.verticalDirection||!e.lines[i.name]||t.push({name:i.name,component:e.linesComponent,class:L(e.classes.lines.default,e.classes.lines[i.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:L(e.classes.linesWrappers.default,e.classes.linesWrappers[i.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable})}),t},handlerNodes:function(){var e=this,t=[],i=this.width,n=this.height;return this.points.forEach(function(o){if(e.handlers[o.name]){var s={name:o.name,component:e.handlersComponent,class:L(e.classes.handlers.default,e.classes.handlers[o.name]),wrapperClass:L(e.classes.handlersWrappers.default,e.classes.handlersWrappers[o.name]),hoverClass:e.classes.handlers.hover,verticalDirection:o.verticalDirection,horizontalDirection:o.horizontalDirection,disabled:!e.resizable};if(i&&n){var r=o.horizontalDirection,c=o.verticalDirection,a=r==="east"?i:r==="west"?0:i/2,l=c==="south"?n:c==="north"?0:n/2;s.wrapperClass=Ri("handler"),s.wrapperStyle={transform:"translate(".concat(a,"px, ").concat(l,"px)")},e.transitions&&e.transitions.enabled&&(s.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else s.wrapperClass=Ri("handler",X({},o.classname,!0));t.push(s)}}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,i){var n,o=e.shift(),s=o.left,r=o.top,c={left:0,right:0,top:0,bottom:0};t==="west"?c.left-=s:t==="east"&&(c.right+=s),i==="north"?c.top-=r:i==="south"&&(c.bottom+=r),!i&&t?n="width":i&&!t&&(n="height"),this.resizable&&this.$emit("resize",new Kl(c,{allowedDirections:{left:t==="west"||!t,right:t==="east"||!t,bottom:i==="south"||!i,top:i==="north"||!i},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:n}))}},emits:["resize","resize-end"]};Do.render=function(e,t,i,n,o,s){return D(),M("div",{ref:"box",class:s.classes.root,style:s.style},[Ht(e.$slots,"default"),H("div",null,[(D(!0),M(An,null,yn(s.lineNodes,function(r){return D(),M(Ue(r.component),{key:r.name,"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,position:r.name,disabled:r.disabled,onDrag:function(c){return s.onHandlerDrag(c,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[1]||(t[1]=function(c){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(D(!0),M(An,null,yn(s.handlerNodes,function(r){return D(),M("div",{key:r.name,style:r.wrapperStyle,class:r.wrapperClass},[(D(),M(Ue(r.component),{"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,"horizontal-position":r.horizontalDirection,"vertical-position":r.verticalDirection,disabled:r.disabled,onDrag:function(c){return s.onHandlerDrag(c,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[2]||(t[2]=function(c){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var _u=nt("vue-draggable-area"),Mo={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:_u()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&e.touches.length===1;t&&(this.touches=Wt(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):yo({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&e.button===0){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top;this.anchor={x:e.clientX-i,y:e.clientY-n}},processMove:function(e,t){var i=Wt(t);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),o=n.left,s=n.top;this.touches.length===1&&i.length===1&&this.$emit("move",new hn({left:i[0].clientX-(o+this.anchor.x),top:i[0].clientY-(s+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};Mo.render=function(e,t,i,n,o,s){return D(),M("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)})},[Ht(e.$slots,"default")],544)};function Di(e){var t,i;return{rotate:e.rotate||0,flip:{horizontal:((t=e==null?void 0:e.flip)===null||t===void 0?void 0:t.horizontal)||!1,vertical:((i=e==null?void 0:e.flip)===null||i===void 0?void 0:i.vertical)||!1}}}function bu(e){return new Promise(function(t,i){try{if(e)if(/^data:/i.test(e))t(function(a){a=a.replace(/^data:([^;]+);base64,/gim,"");for(var l=atob(a),h=l.length,u=new ArrayBuffer(h),d=new Uint8Array(u),f=0;f<h;f++)d[f]=l.charCodeAt(f);return u}(e));else if(/^blob:/i.test(e)){var n=new FileReader;n.onload=function(a){t(a.target.result)},s=e,r=function(a){n.readAsArrayBuffer(a)},(c=new XMLHttpRequest).open("GET",s,!0),c.responseType="blob",c.onload=function(){this.status!=200&&this.status!==0||r(this.response)},c.send()}else{var o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState===4&&(o.status===200||o.status===0?t(o.response):i("Warning: could not load an image to parse its orientation"),o=null)},o.onprogress=function(){o.getResponseHeader("content-type")!=="image/jpeg"&&o.abort()},o.withCredentials=!1,o.open("GET",e,!0),o.responseType="arraybuffer",o.send(null)}else i("Error: the image is empty")}catch(a){i(a)}var s,r,c})}function No(e){var t=e.rotate,i=e.flip,n=e.scaleX,o=e.scaleY,s="";return s+=" rotate("+t+"deg) ",s+=" scaleX("+n*(i.horizontal?-1:1)+") ",s+=" scaleY("+o*(i.vertical?-1:1)+") "}function Eu(e){try{var t,i=new DataView(e),n=void 0,o=void 0,s=void 0,r=void 0;if(i.getUint8(0)===255&&i.getUint8(1)===216)for(var c=i.byteLength,a=2;a+1<c;){if(i.getUint8(a)===255&&i.getUint8(a+1)===225){s=a;break}a++}if(s&&(n=s+10,function(f,g,m){var _,w="";for(_=g,m+=g;_<m;_++)w+=String.fromCharCode(f.getUint8(_));return w}(i,s+4,4)==="Exif")){var l=i.getUint16(n);if(((o=l===18761)||l===19789)&&i.getUint16(n+2,o)===42){var h=i.getUint32(n+4,o);h>=8&&(r=n+h)}}if(r){for(var u=i.getUint16(r,o),d=0;d<u;d++)if(a=r+12*d+2,i.getUint16(a,o)===274){a+=8,t=i.getUint16(a,o),i.setUint16(a,1,o);break}}return t}catch{return null}}function ms(e,t){var i=t.getBoundingClientRect(),n=i.left,o=i.top,s={left:0,top:0},r=0;return e.forEach(function(c){s.left+=(c.clientX-n)/e.length,s.top+=(c.clientY-o)/e.length}),e.forEach(function(c){r+=yo({x:s.left,y:s.top},{x:c.clientX-n,y:c.clientY-o})}),{centerMass:s,spread:r,count:e.length}}var Lo={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=Wi(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(this.touches.length===1&&t.length===1)this.$emit("move",new ve({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=ms(t,this.$refs.container),n=this.oldGeometricProperties;n.count===i.count&&n.count>1&&this.$emit("resize",new ve({left:n.centerMass.left-i.centerMass.left,top:n.centerMass.top-i.centerMass.top},{factor:n.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?this.eventsFilter(e,this.transforming)!==!1:(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,i=t.getBoundingClientRect(),n=i.left,o=i.top,s=i.bottom,r=i.right;this.touches=Wt(e.touches).filter(function(c){return c.clientX>n&&c.clientX<r&&c.clientY>o&&c.clientY<s}),this.oldGeometricProperties=ms(this.touches,t)}},onTouchEnd:function(e){e.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var i=Wt(e.touches).filter(function(n){return!n.identifier||t.touches.find(function(o){return o.identifier===n.identifier})});this.processEvent(e)&&(this.processMove(e,i),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&e.buttons===1&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,o=1+this.wheelResize.ratio*(r=e.deltaY||e.detail||e.wheelDelta,(c=+r)==0||Ao(c)?c:c>0?1:-1),s={left:e.clientX-i,top:e.clientY-n};this.$emit("resize",new ve({},{factor:o,center:s})),this.touches.length||this.debouncedProcessEnd()}var r,c}},emits:["resize","move","transform-end"]};Lo.render=function(e,t,i,n,o,s){return D(),M("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onWheel:t[3]||(t[3]=function(){return s.onWheel&&s.onWheel.apply(s,arguments)})},[Ht(e.$slots,"default")],544)};var Bi={components:{TransformableImage:Lo},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};Bi.render=function(e,t,i,n,o,s){var r=ft("transformable-image");return D(),M(r,{"touch-move":i.touchMove,"touch-resize":i.touchResize,"mouse-move":i.mouseMove,"wheel-resize":i.wheelResize,onMove:t[1]||(t[1]=function(c){return e.$emit("move",c)}),onResize:t[2]||(t[2]=function(c){return e.$emit("resize",c)})},{default:At(function(){return[Ht(e.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var Ve=nt("vue-preview"),xo={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Ve({fill:this.fill}),wrapper:Ve("wrapper"),imageWrapper:Ve("image-wrapper"),image:L(Ve("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=A(A({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),i=this.imageSize.width,n=this.imageSize.height,o=Oo({width:i,height:n},t.rotate),s={width:"".concat(i,"px"),height:"".concat(n,"px"),left:"0px",top:"0px"},r={rotate:{left:(i-o.width)*t.scaleX/2,top:(n-o.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*i/2,top:(1-t.scaleY)*n/2}};return s.transform=`translate(
				`.concat(-this.coordinates.left/e-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/e-r.rotate.top-r.scale.top,"px) ")+No(t),this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){e.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}};xo.render=function(e,t,i,n,o,s){return D(),M("div",{ref:"root",class:s.classes.root,style:s.style},[H("div",{ref:"wrapper",class:s.classes.wrapper,style:s.wrapperStyle},[gs(H("img",{ref:"image",src:i.image&&i.image.src,class:s.classes.image,style:s.imageStyle},null,14,["src"]),[[vs,i.image&&i.image.src]])],6)],6)};var $o={components:{Preview:xo},inheritAttrs:!1};$o.render=function(e,t,i,n,o,s){var r=ft("preview");return D(),M(r,_s(e.$attrs,{fill:!0}),null,16)};var Mi=nt("vue-rectangle-stencil"),Io={name:"RectangleStencil",components:{StencilPreview:$o,BoundingBox:Do,DraggableArea:Mo},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return un}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return dn}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:L(Mi({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:L(Mi("preview"),this.previewClass),boundingBox:L(Mi("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,o=e.top,s={width:"".concat(i,"px"),height:"".concat(t,"px"),transform:"translate(".concat(n,"px, ").concat(o,"px)")};return this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};Io.render=function(e,t,i,n,o,s){var r=ft("stencil-preview"),c=ft("draggable-area"),a=ft("bounding-box");return D(),M("div",{class:s.classes.stencil,style:s.style},[H(a,{width:i.stencilCoordinates.width,height:i.stencilCoordinates.height,transitions:i.transitions,class:s.classes.boundingBox,handlers:i.handlers,"handlers-component":i.handlersComponent,"handlers-classes":i.handlersClasses,"handlers-wrappers-classes":i.handlersWrappersClasses,lines:i.lines,"lines-component":i.linesComponent,"lines-classes":i.linesClasses,"lines-wrappers-classes":i.linesWrappersClasses,resizable:i.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:At(function(){return[H(c,{movable:i.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:At(function(){return[H(r,{image:i.image,coordinates:i.coordinates,width:i.stencilCoordinates.width,height:i.stencilCoordinates.height,class:s.classes.preview,transitions:i.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var wu=["transitions"],lt=nt("vue-advanced-cropper"),Au={name:"Cropper",components:{BackgroundWrapper:Bi},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return Io}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Bi}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return Jl.indexOf(e)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!(typeof e=="string"&&e!=="fill"&&e!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,i=e.coordinates,n=e.aspectRatio,o=e.positionRestrictions,s=e.sizeRestrictions,r=v(v({},i),{right:i.left+i.width,bottom:i.top+i.height}),c=t.params||{},a=v({},t.directions),l=c.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};s.widthFrozen&&(a.left=0,a.right=0),s.heightFrozen&&(a.top=0,a.bottom=0),ot.forEach(function(b){l[b]||(a[b]=0)});var h=st(r,a=ps({coordinates:r,directions:a,sizeRestrictions:s,positionRestrictions:o})).width,u=st(r,a).height,d=c.preserveRatio?y(r):Oi(h/u,n);if(d){var f=c.respectDirection;if(f||(f=r.width>=r.height||d===1?"width":"height"),f==="width"){var g=h/d-r.height;if(l.top&&l.bottom){var m=a.top,_=a.bottom;a.bottom=He(g,_,m),a.top=He(g,m,_)}else l.bottom?a.bottom=g:l.top?a.top=g:l.right?a.right=0:l.left&&(a.left=0)}else if(f==="height"){var w=r.width-u*d;if(l.left&&l.right){var C=a.left,O=a.right;a.left=-He(w,C,O),a.right=-He(w,O,C)}else l.left?a.left=-w:l.right?a.right=-w:l.top?a.top=0:l.bottom&&(a.bottom=0)}a=ps({directions:a,coordinates:r,sizeRestrictions:s,positionRestrictions:o,preserveRatio:!0,compensate:c.compensate})}return h=st(r,a).width,u=st(r,a).height,(d=c.preserveRatio?y(r):Oi(h/u,n))&&Math.abs(d-h/u)>.001&&ot.forEach(function(b){l[b]||(a[b]=0)}),ji({event:new hn({left:-a.left,top:-a.top}),coordinates:{width:i.width+a.right+a.left,height:i.height+a.top+a.bottom,left:i.left,top:i.top},positionRestrictions:o})}},moveAlgorithm:{type:Function,default:ji},initStretcher:{type:Function,default:function(e){var t=e.stretcher,i=e.imageSize,n=y(i);t.style.width=i.width+"px",t.style.height=t.clientWidth/n+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,i=e.coordinates,n=e.aspectRatio,o=e.sizeRestrictions,s=e.positionRestrictions,r=v(v({},i),dt({width:i.width,height:i.height,aspectRatio:n,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,o.minHeight),minWidth:Math.min(t.width,o.minWidth)}}));return r=P(r=B(r,se(z(i),z(r))),ai(ht(t),s))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.getAreaRestrictions,o=e.coordinates,s=v({},t);s.height=s.width/y(i),s.top+=(t.height-s.height)/2,(o.height-s.height>0||o.width-s.width>0)&&(s=G(s,Math.max(o.height/s.height,o.width/s.width)));var r=oi(re(o,ht(s=G(s,ri(s,n({visibleArea:s,type:"resize"}))))));return s.width<o.width&&(r.left=0),s.height<o.height&&(r.top=0),s=P(s=B(s,r),n({visibleArea:s,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.imageSize,o=e.imageRestriction,s=e.type,r={};return o==="fill-area"?r={left:0,top:0,right:n.width,bottom:n.height}:o==="fit-area"&&(y(i)>y(n)?(r={top:0,bottom:n.height},t&&s==="move"&&(t.width>n.width?(r.left=-(t.width-n.width)/2,r.right=n.width-r.left):(r.left=0,r.right=n.width))):(r={left:0,right:n.width},t&&s==="move"&&(t.height>n.height?(r.top=-(t.height-n.height)/2,r.bottom=n.height-r.top):(r.top=0,r.bottom=n.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i={};return e.imageRestriction!=="none"&&(i={left:0,top:0,right:t.width,bottom:t.height}),i}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:A({},ls)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var e=Hi(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:Hi(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:$(this.minWidth)?0:ke(this.minWidth),minHeight:$(this.minHeight)?0:ke(this.minHeight),maxWidth:$(this.maxWidth)?1/0:ke(this.maxWidth),maxHeight:$(this.maxHeight)?1/0:ke(this.maxHeight)});if(e=function(n){var o=n.areaRestrictions,s=n.sizeRestrictions;n.imageSize;var r=n.boundaries,c=n.positionRestrictions;n.imageRestriction;var a=v(v({},s),{minWidth:s.minWidth!==void 0?s.minWidth:0,minHeight:s.minHeight!==void 0?s.minHeight:0,maxWidth:s.maxWidth!==void 0?s.maxWidth:1/0,maxHeight:s.maxHeight!==void 0?s.maxHeight:1/0});c.left!==void 0&&c.right!==void 0&&(a.maxWidth=Math.min(a.maxWidth,c.right-c.left)),c.bottom!==void 0&&c.top!==void 0&&(a.maxHeight=Math.min(a.maxHeight,c.bottom-c.top));var l=Vi(o),h=Co(r,l);return l.width<1/0&&(!a.maxWidth||a.maxWidth>h.width)&&(a.maxWidth=Math.min(a.maxWidth,h.width)),l.height<1/0&&(!a.maxHeight||a.maxHeight>h.height)&&(a.maxHeight=Math.min(a.maxHeight,h.height)),a.minWidth>a.maxWidth&&(a.minWidth=a.maxWidth,a.widthFrozen=!0),a.minHeight>a.maxHeight&&(a.minHeight=a.maxHeight,a.heightFrozen=!0),a}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),i=Vi(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,i.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,i.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:lt(),image:L(lt("image"),this.imageClass),stencil:lt("stencil"),boundaries:L(lt("boundaries"),this.boundariesClass),stretcher:L(lt("stretcher")),background:L(lt("background"),this.backgroundClass),foreground:L(lt("foreground"),this.foregroundClass),imageWrapper:L(lt("image-wrapper")),cropperWrapper:L(lt("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,i=e.height,n=e.left,o=e.top;return{width:t/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(o-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},i={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},n=A(A({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),o={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-i.left-this.imageTransforms.translateX,"px, ").concat(-t.top-i.top-this.imageTransforms.translateY,"px)")+No(n)};return this.transitionsOptions.enabled&&(o.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),o}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(i){return e[i]!==t[i]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=Wi(this.update,this.debounce),this.debouncedDisableTransitions=Wi(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(A({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:A({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var i=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?A({},this.visibleArea):null,imageTransforms:t,get canvas(){return i.canvas?i.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?A({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,o=n===void 0||n;this.onManipulateImage(new ve({},{factor:1/e,center:t}),{normalize:!1,transitions:o})},move:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,o=n===void 0||n;this.onManipulateImage(new ve({left:e||0,top:t||0}),{normalize:!1,transitions:o})},setCoordinates:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.autoZoom,o=n===void 0||n,s=i.transitions,r=s===void 0||s;this.$nextTick(function(){t.imageLoaded?(t.transitionsActive||(r&&t.enableTransitions(),t.coordinates=t.applyTransform(e),o&&t.runAutoZoom("setCoordinates"),r&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e})},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then(function(){e.onChange()}):this.resetVisibleArea().then(function(){e.onChange()})},reset:function(){var e=this;return this.resetVisibleArea().then(function(){e.onChange(!1)})},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){e(),t.awaiting=!1}))},prepareResult:function(e){return this.roundResult?function(t){var i=t.coordinates,n=t.sizeRestrictions,o=t.positionRestrictions,s={width:Math.round(i.width),height:Math.round(i.height),left:Math.round(i.left),top:Math.round(i.top)};return s.width>n.maxWidth?s.width=Math.floor(i.width):s.width<n.minWidth&&(s.width=Math.ceil(i.width)),s.height>n.maxHeight?s.height=Math.floor(i.height):s.height<n.minHeight&&(s.height=Math.ceil(i.height)),P(s,o)}(A(A({},this.getPublicProperties()),{},{positionRestrictions:We(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,i,n){var o=this.autoZoomAlgorithm;o||(o=this.stencilSize?iu:this.autoZoom?nu:su);var s=o({event:{type:e,params:n},visibleArea:t,coordinates:i,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return A(A({},s),{},{changed:!us(s.visibleArea,t)||!us(s.coordinates,i)})},runAutoZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transitions,n=i!==void 0&&i,o=Fl(t,wu),s=this.processAutoZoom(e,this.visibleArea,this.coordinates,o),r=s.visibleArea,c=s.coordinates,a=s.changed;n&&a&&this.enableTransitions(),this.visibleArea=r,this.coordinates=c,n&&a&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(t){var i=t.event,n=t.visibleArea,o=t.coefficient;if(i.type==="manipulateImage")return v(v({},i),{move:{left:i.move&&i.move.left?o*i.move.left:0,top:i.move&&i.move.top?o*i.move.top:0},scale:{factor:i.scale&&i.scale.factor?i.scale.factor:1,center:i.scale&&i.scale.center?{left:i.scale.center.left*o+n.left,top:i.scale.center.top*o+n.top}:null}});if(i.type==="resize"){var s=v(v({},i),{directions:v({},i.directions)});return ot.forEach(function(c){s.directions[c]*=o}),s}if(i.type==="move"){var r=v(v({},i),{directions:v({},i.directions)});return Zl.forEach(function(c){r.directions[c]*=o}),r}return i}(A(A({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,i=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(c,a,l){var h=l.rotate,u=l.flip,d={width:a.naturalWidth,height:a.naturalHeight},f=Oo(d,h),g=c.getContext("2d");c.height=f.height,c.width=f.width,g.save();var m=wt(z(v({left:0,top:0},d)),h);return g.translate(-(m.left-f.width/2),-(m.top-f.height/2)),g.rotate(h*Math.PI/180),g.translate(u.horizontal?d.width:0,u.vertical?d.height:0),g.scale(u.horizontal?-1:1,u.vertical?-1:1),g.drawImage(a,0,0,d.width,d.height),g.restore(),c}(this.$refs.sourceCanvas,t,this.imageTransforms):t,n=A({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),o=function(c){return c.find(function(a){return l=a,!Number.isNaN(parseFloat(l))&&isFinite(l);var l})},s=dt({sizeRestrictions:{minWidth:o([n.width,n.minWidth])||0,minHeight:o([n.height,n.minHeight])||0,maxWidth:o([n.width,n.maxWidth])||1/0,maxHeight:o([n.height,n.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(n.maxArea&&s.width*s.height>n.maxArea){var r=Math.sqrt(n.maxArea/(s.width*s.height));s={width:Math.round(r*s.width),height:Math.round(r*s.height)}}return function(c,a,l,h,u){c.width=h?h.width:l.width,c.height=h?h.height:l.height;var d=c.getContext("2d");d.clearRect(0,0,c.width,c.height),u&&(u.imageSmoothingEnabled&&(d.imageSmoothingEnabled=u.imageSmoothingEnabled),u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),u.fillColor&&(d.fillStyle=u.fillColor,d.fillRect(0,0,c.width,c.height),d.save()));var f=l.left<0?-l.left:0,g=l.top<0?-l.top:0;d.drawImage(a,l.left+f,l.top+g,l.width,l.height,f,g,c.width,c.height)}(e,i,this.coordinates,s,n),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.visibleArea&&t?tu(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,n=this.visibleArea&&t?We(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return eu({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:n,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?au:ru);var i=this.sizeRestrictions;i.minWidth,i.minHeight,i.maxWidth,i.maxHeight;var n=Ut(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,o=this.defaultPosition||ou,s=[n,function(r){var c=r.coordinates;return A({},Ut(o)?o({coordinates:c,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,Wt(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout(function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){var n={cropper:i,imageSize:e.imageSize};if(Ut(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(n):e.defaultBoundaries==="fit"?e.boundaries=function(o){var s=o.cropper,r=o.imageSize,c=s.clientHeight,a=s.clientWidth,l=c,h=r.width*c/r.height;return h>a&&(h=a,l=r.height*a/r.width),{width:h,height:l}}(n):e.boundaries=function(o){var s=o.cropper;return{width:s.clientWidth,height:s.clientHeight}}(n),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=A(A({},this.defaultImageTransforms),{},{flip:A({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){e.priority!=="visible-area"&&(e.visibleArea=null,e.resetCoordinates());var t,i,n,o,s,r,c=e.defaultVisibleArea||cu;e.visibleArea=Ut(c)?c({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:e.priority!=="visible-area"?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},i=t.visibleArea,n=t.boundaries,o=t.getAreaRestrictions,s=v({},i),r=y(n),s.width/s.height!==r&&(s.height=s.width/r),P(s,o({visibleArea:s,type:"move"}))),e.priority==="visible-area"?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")}).catch(function(){e.visibleArea=null})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")}).catch(function(){e.visibleArea=null})},onChange:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(o){if(cs(o))return!1;var s=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(o)||[],c={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},a=function(l){return l.port||((l.protocol||s.protocol)==="http"?80:433)};return!(!c.protocol&&!c.host&&!c.port||c.protocol&&c.protocol==s.protocol&&c.host&&c.host==s.host&&c.host&&a(c)==a(s))}(this.src)){var i=$(this.crossOrigin)?this.canvas:this.crossOrigin;i===!0&&(i="anonymous"),this.imageAttributes.crossOrigin=i||null}if(this.checkOrientation){var n=(e=this.src,new Promise(function(o){bu(e).then(function(s){var r=Eu(s);o(s?{source:e,arrayBuffer:s,orientation:r}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(s){console.warn(s),o({source:e,arrayBuffer:null,orientation:null})})}));setTimeout(function(){n.then(t.onParseImage)},this.transitionTime)}else setTimeout(function(){t.onParseImage({source:t.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){e.$emit("ready"),e.onChange(!1)}))},onParseImage:function(e){var t=this,i=e.source,n=e.arrayBuffer,o=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,n&&o&&o>1?wo(i)||!cs(i)?(this.imageAttributes.src=URL.createObjectURL(new Blob([n])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(s){for(var r=[],c=new Uint8Array(s);c.length>0;){var a=c.subarray(0,8192);r.push(String.fromCharCode.apply(null,Array.from?Array.from(a):a.slice())),c=c.subarray(8192)}return"data:image/jpeg;base64,"+btoa(r.join(""))}(n):this.imageAttributes.src=i,Ut(this.defaultTransforms)?this.appliedImageTransforms=Di(this.defaultTransforms()):Fe(this.defaultTransforms)?this.appliedImageTransforms=Di(this.defaultTransforms):this.appliedImageTransforms=function(s){var r=Di({});if(s)switch(s){case 2:r.flip.horizontal=!0;break;case 3:r.rotate=-180;break;case 4:r.flip.vertical=!0;break;case 5:r.rotate=90,r.flip.vertical=!0;break;case 6:r.rotate=90;break;case 7:r.rotate=90,r.flip.horizontal=!0;break;case 8:r.rotate=-90}return r}(o),this.defaultImageTransforms=A(A({},this.appliedImageTransforms),{},{flip:A({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var s=t.$refs.image;s&&s.complete&&(function(r){return!!r.naturalWidth}(s)?t.onSuccessLoadImage():t.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender(function(){t.coordinates=t.moveAlgorithm(A(A({},t.getPublicProperties()),{},{positionRestrictions:We(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()})},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var i=t.sizeRestrictions,n=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(A(A({},t.getPublicProperties()),{},{positionRestrictions:We(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(i.maxWidth,t.visibleArea.width),maxHeight:Math.min(i.maxHeight,t.visibleArea.height),minWidth:Math.max(i.minWidth,n),minHeight:Math.max(i.minHeight,n)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1})},onManipulateImage:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var i=t.transitions,n=i!==void 0&&i,o=t.normalize,s=o===void 0||o;n&&this.enableTransitions();var r=hu(A(A({},this.getPublicProperties()),{},{event:s?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),c=r.visibleArea,a=r.coordinates;this.visibleArea=c,this.coordinates=a,this.runAutoZoom("manipulateImage"),this.onChange(),n&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.visibleArea,i=e.type,n=i===void 0?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:n})},getAspectRatio:function(e){var t,i,n=this.stencilProps,o=n.aspectRatio,s=n.minAspectRatio,r=n.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var c=this.$refs.stencil.aspectRatios();t=c.minimum,i=c.maximum}if($(t)&&(t=$(o)?s:o),$(i)&&(i=$(o)?r:o),!e&&($(t)||$(i))){var a=this.getStencilSize(),l=a?y(a):null;$(t)&&(t=hs(l)?l:void 0),$(i)&&(i=hs(l)?l:void 0)}return{minimum:t,maximum:i}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,i=e.stencilSize,n=e.aspectRatio,Oi(y(o=Ut(i)?i({boundaries:t,aspectRatio:n}):i),n)&&(o=dt({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:n.minimum,maximum:n.maximum}})),(o.width>t.width||o.height>t.height)&&(o=dt({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:y(o),maximum:y(o)}})),o;var e,t,i,n,o},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return A({},ls)},flip:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,o=n===void 0||n;if(!this.transitionsActive){o&&this.enableTransitions();var s=A({},this.imageTransforms.flip),r=uu({flip:{horizontal:e?!s.horizontal:s.horizontal,vertical:t?!s.vertical:s.vertical},previousFlip:s,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),c=r.visibleArea,a=r.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=c,this.coordinates=a,this.onChange(),o&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transitions,n=i===void 0||i;if(!this.transitionsActive){n&&this.enableTransitions();var o=A({},this.imageSize);this.appliedImageTransforms.rotate+=e;var s=lu({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:o,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=s.visibleArea,c=s.coordinates,a=this.processAutoZoom("rotateImage",r,c);r=a.visibleArea,c=a.coordinates,this.visibleArea=r,this.coordinates=c,this.onChange(),n&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},yu={key:0,ref:"canvas",style:{display:"none"}},Tu={key:1,ref:"sourceCanvas",style:{display:"none"}};Au.render=function(e,t,i,n,o,s){return D(),M("div",{ref:"cropper",class:s.classes.cropper},[H("div",{ref:"stretcher",class:s.classes.stretcher},null,2),H("div",{class:s.classes.boundaries,style:s.boundariesStyle},[(D(),M(Ue(i.backgroundWrapperComponent),{class:s.classes.cropperWrapper,"wheel-resize":s.settings.resizeImage.wheel,"touch-resize":s.settings.resizeImage.touch,"touch-move":s.settings.moveImage.touch,"mouse-move":s.settings.moveImage.mouse,onMove:s.onManipulateImage,onResize:s.onManipulateImage},{default:At(function(){return[H("div",{class:s.classes.background,style:s.boundariesStyle},null,6),H("div",{class:s.classes.imageWrapper},[H("img",{ref:"image",crossorigin:o.imageAttributes.crossOrigin,src:o.imageAttributes.src,class:s.classes.image,style:s.imageStyle,onMousedown:t[1]||(t[1]=jo(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),H("div",{class:s.classes.foreground,style:s.boundariesStyle},null,6),gs((D(),M(Ue(i.stencilComponent),_s({ref:"stencil",image:s.image,coordinates:o.coordinates,"stencil-coordinates":s.stencilCoordinates,transitions:s.transitionsOptions},i.stencilProps,{onResize:s.onResize,onResizeEnd:s.onResizeEnd,onMove:s.onMove,onMoveEnd:s.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[vs,o.imageLoaded]]),i.canvas?(D(),M("canvas",yu,null,512)):Tn("",!0),i.canvas?(D(),M("canvas",Tu,null,512)):Tn("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};export{ie as M,Au as f};
